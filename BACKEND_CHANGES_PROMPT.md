# 백엔드 변경사항 요약 (2025-01-09)

## 🔄 최신 변경사항

### 1. 전체 저장 기능 제거
- **변경 이유:** 기존 스케줄이 중복으로 저장되는 문제 발생
- **해결 방법:** 개별 스케줄 생성/수정/삭제로 대체
- **영향:** `POST /v1/schedules/batch` API 사용 중단

### 2. 시간 입력 필드 개선
- **기존 문제:** 
  - `type="time"` 사용으로 브라우저 시간 선택기 표시
  - 텍스트 입력 시 형식 검증 부족
- **개선 사항:**
  - 시(00-23)와 분(00-59)을 별도 입력 필드로 분리
  - 자동으로 `:` 구분자 추가
  - 숫자만 입력 가능 (문자 입력 차단)
  - 2자리 입력 시 자동으로 다음 필드로 포커스 이동
  - 백스페이스로 이전 필드로 이동 가능

### 3. UI/UX 개선사항
- **번호 컬럼:** ID 대신 순서 번호 (1, 2, 3...) 표시
- **시간 입력:** 더 직관적인 시:분 입력 방식
- **전체 저장 버튼:** 제거 (개별 저장으로 대체)

### 4. 데이터 검증 강화
- **시간 형식:** HH:MM (24시간) 형식만 허용
- **제목 필드:** 필수 입력으로 강화
- **입력 제한:** 숫자만 입력 가능하도록 제한

## 📝 백엔드 개발자 참고사항

### API 사용 패턴 변경
```javascript
// ❌ 기존: 일괄 저장 사용
POST /v1/schedules/batch
{
  "schedules": [...]
}

// ✅ 현재: 개별 저장 사용
POST /v1/schedules  // 스케줄 생성
PUT /v1/schedules/{id}  // 스케줄 수정
DELETE /v1/schedules/{id}  // 스케줄 삭제
```

### 시간 형식 검증
- **프론트엔드:** HH:MM 형식으로 자동 포맷팅
- **백엔드:** 동일한 HH:MM 형식으로 검증 필요
- **예시:** `09:00`, `14:30`, `23:59`

### 에러 처리
- **400 Bad Request:** 잘못된 시간 형식, 필수 필드 누락
- **401 Unauthorized:** JWT 토큰 문제
- **404 Not Found:** 존재하지 않는 스케줄 ID

## 🎯 테스트 시나리오

### 1. 시간 입력 테스트
- 시: 0-23 범위 입력
- 분: 0-59 범위 입력
- 자동 포맷팅 확인
- 잘못된 형식 입력 시 차단

### 2. 스케줄 CRUD 테스트
- 생성: 필수 필드(title, startTime, endTime) 포함
- 수정: 기존 스케줄의 일부 필드만 수정
- 삭제: 올바른 CUID로 삭제
- 조회: 날짜별 스케줄 목록 조회

### 3. 에러 처리 테스트
- 필수 필드 누락 시 400 에러
- 잘못된 시간 형식 시 400 에러
- 존재하지 않는 ID로 수정/삭제 시 404 에러
- JWT 토큰 없이 요청 시 401 에러

이 변경사항들을 반영하면 프론트엔드와 백엔드가 완벽하게 연동될 것입니다! 🚀
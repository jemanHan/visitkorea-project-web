import{r as e,b as t,c as a}from"./vendor-DJQ_R7xF.js";import{u as r,L as s,a as o,b as n,c as i,d as l,R as d}from"./router-DswfkaoT.js";import{i as c,a as g,u as m}from"./i18n-CkP9BNhD.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var u={exports:{}},h={},p=e,x=Symbol.for("react.element"),y=Symbol.for("react.fragment"),f=Object.prototype.hasOwnProperty,b=p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,v={key:!0,ref:!0,__self:!0,__source:!0};function w(e,t,a){var r,s={},o=null,n=null;for(r in void 0!==a&&(o=""+a),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(n=t.ref),t)f.call(t,r)&&!v.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:x,type:e,key:o,ref:n,props:s,_owner:b.current}}h.Fragment=y,h.jsx=w,h.jsxs=w,u.exports=h;var k=u.exports,j={},N=t;j.createRoot=N.createRoot,j.hydrateRoot=N.hydrateRoot;const{slice:S,forEach:C}=[];const D=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,T={create(e,t,a,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};a&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+60*a*1e3)),r&&(s.domain=r),document.cookie=function(e,t){const a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{path:"/"};let r=`${e}=${encodeURIComponent(t)}`;if(a.maxAge>0){const e=a.maxAge-0;if(Number.isNaN(e))throw new Error("maxAge should be a Number");r+=`; Max-Age=${Math.floor(e)}`}if(a.domain){if(!D.test(a.domain))throw new TypeError("option domain is invalid");r+=`; Domain=${a.domain}`}if(a.path){if(!D.test(a.path))throw new TypeError("option path is invalid");r+=`; Path=${a.path}`}if(a.expires){if("function"!=typeof a.expires.toUTCString)throw new TypeError("option expires is invalid");r+=`; Expires=${a.expires.toUTCString()}`}if(a.httpOnly&&(r+="; HttpOnly"),a.secure&&(r+="; Secure"),a.sameSite)switch("string"==typeof a.sameSite?a.sameSite.toLowerCase():a.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a.partitioned&&(r+="; Partitioned"),r}(e,t,s)},read(e){const t=`${e}=`,a=document.cookie.split(";");for(let r=0;r<a.length;r++){let e=a[r];for(;" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var M={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&"undefined"!=typeof document)return T.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:a,cookieMinutes:r,cookieDomain:s,cookieOptions:o}=t;a&&"undefined"!=typeof document&&T.create(a,e,r,s,o)}},I={name:"querystring",lookup(e){let t,{lookupQuerystring:a}=e;if("undefined"!=typeof window){let{search:e}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(e=window.location.hash.substring(window.location.hash.indexOf("?")));const r=e.substring(1).split("&");for(let s=0;s<r.length;s++){const e=r[s].indexOf("=");if(e>0){r[s].substring(0,e)===a&&(t=r[s].substring(e+1))}}}return t}},L={name:"hash",lookup(e){let t,{lookupHash:a,lookupFromHashIndex:r}=e;if("undefined"!=typeof window){const{hash:e}=window.location;if(e&&e.length>2){const s=e.substring(1);if(a){const e=s.split("&");for(let r=0;r<e.length;r++){const s=e[r].indexOf("=");if(s>0){e[r].substring(0,s)===a&&(t=e[r].substring(s+1))}}}if(t)return t;if(!t&&r>-1){const t=e.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(t))return;const a="number"==typeof r?r:0;return t[a]?.replace("/","")}}}return t}};let P=null;const E=()=>{if(null!==P)return P;try{if(P="undefined"!=typeof window&&null!==window.localStorage,!P)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){P=!1}return P};var R={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&E())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:a}=t;a&&E()&&window.localStorage.setItem(a,e)}};let A=null;const $=()=>{if(null!==A)return A;try{if(A="undefined"!=typeof window&&null!==window.sessionStorage,!A)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){A=!1}return A};var U={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&$())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:a}=t;a&&$()&&window.sessionStorage.setItem(a,e)}},O={name:"navigator",lookup(e){const t=[];if("undefined"!=typeof navigator){const{languages:e,userLanguage:a,language:r}=navigator;if(e)for(let s=0;s<e.length;s++)t.push(e[s]);a&&t.push(a),r&&t.push(r)}return t.length>0?t:void 0}},J={name:"htmlTag",lookup(e){let t,{htmlTag:a}=e;const r=a||("undefined"!=typeof document?document.documentElement:null);return r&&"function"==typeof r.getAttribute&&(t=r.getAttribute("lang")),t}},F={name:"path",lookup(e){let{lookupFromPathIndex:t}=e;if("undefined"==typeof window)return;const a=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(a))return;const r="number"==typeof t?t:0;return a[r]?.replace("/","")}},z={name:"subdomain",lookup(e){let{lookupFromSubdomainIndex:t}=e;const a="number"==typeof t?t+1:1,r="undefined"!=typeof window&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[a]}};let H=!1;try{document.cookie,H=!0}catch(Lt){}const B=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];H||B.splice(1,1);class _{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{languageUtils:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return C.call(S.call(arguments,1),t=>{if(t)for(const a in t)void 0===e[a]&&(e[a]=t[a])}),e}(t,this.options||{},{order:B,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}),"string"==typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=e=>e.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=a,this.addDetector(M),this.addDetector(I),this.addDetector(R),this.addDetector(U),this.addDetector(O),this.addDetector(J),this.addDetector(F),this.addDetector(z),this.addDetector(L)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.order,t=[];return e.forEach(e=>{if(this.detectors[e]){let a=this.detectors[e].lookup(this.options);a&&"string"==typeof a&&(a=[a]),a&&(t=t.concat(a))}}),t=t.filter(e=>{return null!=e&&!("string"==typeof(t=e)&&[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(e=>e.test(t)));var t}).map(e=>this.options.convertDetectedLanguage(e)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(t=>{this.detectors[t]&&this.detectors[t].cacheUserLanguage(e,this.options)}))}}_.type="languageDetector";const W={translation:{home:"홈",login:"로그인",logout:"로그아웃",mypage:"마이페이지",mySchedule:"나의 일정",search:"검색",searchPlaceholder:"여행지를 검색하세요",loading:"로딩 중...",user:"사용자",nationwide:"전국 추천 여행지",myInfo:"내 정보",kCulture:"K-Culture 테마",kCultureDescription:"역사, 자연, 현대문화를 아우르는 한국의 진짜 매력을 발견하는 여행",dmzHistory:"DMZ & 분단 역사 테마",dmzHistoryDescription:"분단의 현장을 돌아보며 평화의 의미를 되새기는 역사 체험 코스",esports:"e스포츠 테마",esportsDescription:"한국 e스포츠의 성장과 문화를 체험하는 특별한 투어",traditionalMarket:"전통시장 테마",traditionalMarketDescription:"한국의 전통 시장에서 느끼는 진정한 로컬 문화 체험",seoulSkyline:"서울 도심 전망 테마",seoulSkylineDescription:"서울의 아름다운 스카이라인을 감상할 수 있는 전망 명소들",koreanMountains:"한국의 명산 & 자연 경관 테마",koreanMountainsDescription:"대한민국을 대표하는 국립공원과 명산들을 탐방하는 자연 체험 테마",kpopMv:"K-pop 뮤직비디오 촬영지 테마",kpopMvDescription:"K-pop 대표 아티스트들의 촬영지를 따라가는 테마",estimatedTime:"체류시간",minutes:"분",hours:"시간",address:"주소",tips:"팁",viewOnMap:"지도에서 보기",viewDetail:"상세페이지 보기",language:"Korean",korean:"한국어",english:"English",changeLanguage:"언어 변경",thirdTunnelName:"제3땅굴",thirdTunnelDesc:"남북 대치의 긴장감을 직접 체험 가능한 장소",imjingakName:"임진각 평화공원",imjingak:"분단 현실과 평화를 상징하는 대표적 관광지",dorasanName:"도라산 전망대",dorasan:"북한 땅을 직접 바라볼 수 있는 전망대",goseongTowerName:"고성통일전망타워",goseongTower:"통일을 염원하는 의미의 대표적 전망 명소",dmzMuseumName:"DMZ 박물관",dmzMuseum:"분단과 전쟁 역사를 전시하는 교육적 공간",lolParkName:"롤파크",lolPark:"LCK 공식 경기장 + 팬샵 & 전시 공간 포함",esportsHallName:"이스포츠 명예의 전당",esportsHall:"한국 e스포츠 역사와 선수 업적을 전시하는 공간",netmarbleMuseumName:"넷마블게임박물관",netmarbleMuseum:"게임 역사와 문화를 체험할 수 있는 박물관",t1BuildingName:"T1",t1Building:"T1 사옥 - 세계 최고의 e스포츠 팀 T1의 본사",inspireArenaName:"인스파이어 아레나",inspireArena:"국제 e스포츠 대회 개최지",hikrGroundName:"하이커 그라운드",hikrGround:"K-콘텐츠와 e스포츠를 체험할 수 있는 복합 문화공간",gwangjangMarketName:"광장시장",gwangjangMarket:"빈대떡·육회 등 한국식 길거리 음식을 맛볼 수 있는 대표 시장",namdaemunMarketName:"남대문시장",namdaemunMarket:"한국 최대 규모의 전통시장",tonginMarketName:"통인시장",tonginMarket:"도시락 카페 체험이 가능한 독특한 시장",mangwonMarketName:"망원시장",mangwonMarket:"젊은 층과 외국인에게 인기 있는 생활형 시장",noryangjinMarketName:"노량진 수산물 도매시장",noryangjinMarket:"활어와 해산물 거래가 활발한 한국 대표 수산시장",nSeoulTowerSkylineName:"N서울타워",nSeoulTowerSkylineDesc:"서울의 중심이자 심장 같은 존재로 상징되는 랜드마크",lotteWorldTowerName:"롯데월드타워",lotteWorldTower:"초고층에서 서울 전경을 내려다볼 수 있는 전망대",square63Name:"63스퀘어",sixtyThreeSquare:"한강과 서울 도심을 한눈에 볼 수 있는 전망대",sebitIslandName:"세빛섬",sebitIsland:"한강 위의 인공 섬, 야경 포토존 명소",bukhanMountainName:"북한산국립공원",bukhansanPark:"서울 전체를 조망할 수 있는 최고의 전망 명소",seorakMountainName:"설악산 국립공원",seoraksan:"한국을 대표하는 국립공원, 울산바위·권금성 등 명소 포함",jiriMountainName:"지리산 국립공원",jirisan:"한반도 최초의 국립공원, 천왕봉에서 바라보는 일출 유명",hallaMountainName:"한라산 국립공원",hallasan:"대한민국 최고봉(1950m), 백록담 분화구 호수 명소",bukhansan:"서울 접근성 최고, 외국인 관광객 인기 1위 등산지",mudungMountainName:"무등산",mudungsan:"남도의 상징적 명산, 천연 암석기둥 '입석대'로 유명",garosuGil:"패션·카페·아트가 공존하는 거리. K-pop 뮤비와 화보에 자주 등장하며, 골목마다 감각적인 포토 스폿이 이어집니다.",starfieldCoex:"별마당도서관과 초대형 미디어월로 유명한 도심 랜드마크. 걸그룹 프로모션·콘텐츠 촬영 배경으로 자주 쓰이는 핫플입니다.",hangangBridge:"한강 야경과 교량 라인이 만들어내는 시그니처 뷰. 아이돌 뮤비·퍼포먼스 영상에서 상징적인 배경으로 사랑받습니다.",apgujeongRodeo:"패션과 음악 트렌드의 중심지. 네온 사인과 쇼윈도가 어우러진 스트리트 무드가 콘셉트 촬영에 제격입니다.",dmzTips:["가을 단풍 시즌 최고의 명산","울산바위와 권금성 필수 방문"],esportsTips:["LCK 경기 일정 확인 필수","팬샵에서 굿즈 구매 가능"],marketTips:["아침 시간대가 가장 활기참","현금 준비 필수"],skylineTips:["일몰 시간대 방문 추천","야경 포토존 활용"],mountainTips:["등산 준비물 필수","날씨 확인 후 방문"],kpopTips:["팬미팅 일정 확인","사진 촬영 포인트 미리 파악"],themeRecommendation:"테마 여행지 추천",startTheme:"테마 시작",natureTitle:"자연으로의 초대",natureSub:"산·바다·섬을 한 번에",cityTitle:"도심 속 힐링 스팟",citySub:"가까운 곳부터 가볍게",historyTitle:"시간여행",historySub:"역사 속으로",festivalTitle:"축제의 계절",festivalSub:"지금 즐기기 좋은",mainTitle:"Hello Korea",mainSubtitle:"여행지 테마 제공 및 유명지역 추천 서비스",footerDescription:"국내 여행 아이디어를 한 곳에서.",footerEmail:"0523jeman@naver.com",footerGuide:"안내",footerTerms:"이용약관",footerPrivacy:"개인정보처리방침",footerTermsTitle:"이용약관",footerPrivacyTitle:"개인정보처리방침",footerTermsContent:"\n      <p><strong>제1조(목적)</strong> 본 약관은 Hello Korea(이하 '당사')가 제공하는 서비스 이용과 관련하여 당사와 이용자 간의 권리, 의무 및 책임 사항을 규정함을 목적으로 합니다.</p>\n      <p><strong>제2조(정의)</strong> '이용자'란 당사의 서비스에 접속하여 본 약관에 따라 당사가 제공하는 서비스를 이용하는 회원 및 비회원을 말합니다.</p>\n      <p><strong>제3조(약관의 효력 및 변경)</strong> 당사는 관련 법령을 위배하지 않는 범위에서 본 약관을 변경할 수 있으며, 변경 시 공지사항을 통해 안내합니다.</p>\n      <p><strong>제4조(서비스의 제공 및 변경)</strong> 당사는 서비스의 내용, 운영 정책을 변경할 수 있으며, 변경 시 사전 고지합니다.</p>\n      <p><strong>제5조(이용자의 의무)</strong> 이용자는 관계 법령 및 약관을 준수해야 하며, 서비스의 안정적 운영을 방해해서는 안 됩니다.</p>\n      <p><strong>제6조(책임의 제한)</strong> 당사는 천재지변, 제3자의 귀책 등 불가항력으로 인한 서비스 장애에 대하여 책임을 지지 않습니다.</p>\n    ",footerPrivacyContent:"\n      <p><strong>1. 수집하는 개인정보 항목</strong> 이메일, 닉네임 등 서비스 제공에 필요한 최소한의 정보</p>\n      <p><strong>2. 개인정보의 이용 목적</strong> 회원관리, 서비스 개선 및 고객 문의 대응</p>\n      <p><strong>3. 보유 및 이용기간</strong> 관련 법령에 의한 보존 기간 또는 이용 목적 달성 시까지</p>\n      <p><strong>4. 제3자 제공</strong> 법령에 의한 경우를 제외하고 사전 동의 없이 제공하지 않습니다.</p>\n      <p><strong>5. 이용자의 권리</strong> 개인정보 열람·정정·삭제 요청이 가능하며, 고객센터를 통해 문의할 수 있습니다.</p>\n    ",footerCustomer:"고객센터",footerHours:"평일 09:00 ~ 18:00",scheduleManagement:"스케줄 관리",schedule:"스케줄",addSchedule:"일정 추가",editSchedule:"일정 편집",deleteSchedule:"일정 삭제",scheduleCount:"개 일정",timeDistribution:"시간대별 분포",noScheduleData:"스케줄 데이터가 없습니다",totalHours:"총 시간",totalDuration:"총 소요시간",noSchedule:"일정이 없습니다",addNewSchedule:"새로운 일정을 추가해보세요",startTime:"시작 시간",endTime:"종료 시간",placeActivity:"장소/활동명",placePlaceholder:"예: 강남역, 롯데월드타워",category:"카테고리",memo:"메모 (선택사항)",memoPlaceholder:"추가 정보나 메모를 입력하세요",previous:"이전",next:"다음",displayCount:"표시 개수",items:"개",loadingSchedule:"스케줄을 불러오는 중...",errorOccurred:"오류 발생:",enterTime:"시간을 입력해주세요",enterPlaceActivity:"장소/활동명을 입력해주세요",loadingNearbyInfo:"주변 정보를 불러오는중...",noNearbyPlaces:"주변에 맛집이나 숙소를 찾을 수 없습니다.",invalidTimeFormat:"올바른 시간 형식이 아닙니다 (HH:MM)",endTimeAfterStart:"종료 시간은 시작 시간보다 늦어야 합니다",reviews:"리뷰",loadingPlaceInfo:"장소 정보를 불러오는 중...",tourism:"관광",dining:"식사",shopping:"쇼핑",transportation:"교통",accommodation:"숙박",culturalFacility:"문화시설",etc:"기타",excelDownload:"엑셀 다운로드",pngDownload:"PNG 다운로드",jpgDownload:"JPG 다운로드",share:"공유하기",progressStatus:"진행 상황",scheduleStatus:"스케줄",cancel:"취소",save:"저장",kpopDemonHunters:"K-POP Demon Hunters 테마",kpopDemonHuntersDescription:"K-POP Demon Hunters 영화의 촬영지를 따라가는 특별한 팬 투어",coexKpopPlaza:"코엑스 K-POP 광장 & 3D 전광판",coexKpopPlazaDesc:"헌트릭스의 신곡 티저가 공개된 상징적인 3D 전광판",naksanPark:"낙산공원",naksanParkDesc:"루미와 지누가 서울 성벽을 따라 걷는 감성적인 장소",cheongdamBridge:"청담대교 & 자양역",cheongdamBridgeDesc:"한강을 가로지르는 지하철 위에서 펼쳐지는 액션 장면의 배경",nSeoulTower:"N서울타워",nSeoulTowerDesc:"서울의 중심이자 심장 같은 존재로 상징되는 랜드마크",jamsilOlympicStadium:"잠실올림픽주경기장",jamsilOlympicStadiumDesc:"3명의 주인공들이 데뷔 무대를 펼친 폭발적인 오프닝 장소",myeongdongStreet:"명동거리",myeongdongStreetDesc:"사자보이즈가 팬들과 Soda Pop을 공연한 현란한 네온사인 거리",historicalSites:"역사적인 장소 테마",historicalSitesDescription:"조선왕조부터 대한제국까지, 한국 역사의 중심을 체험하는 특별한 여행",gyeongbokgung:"경복궁",gyeongbokgungDesc:"조선왕조의 정궁으로 한국 전통 건축의 백미",sungnyemun:"숭례문",sungnyemunDesc:"서울의 남대문으로 조선왕조의 상징적 건축물",changdeokgung:"창덕궁",changdeokgungDesc:"유네스코 세계문화유산으로 조선왕조의 대표 궁궐",jongmyo:"종묘",jongmyoDesc:"조선왕조 역대 임금들의 신위를 모신 사당",deoksugung:"덕수궁",deoksugungDesc:"대한제국 황궁으로 근대사의 중심지",kpopMvLocations:"K-pop 아티스트 뮤비촬영지 테마",kpopMvLocationsDescription:"인기 K-pop 아티스트들의 기록을 따라가보세요",jejuSagyeBeach:"제주 사계해변",jejuSagyeBeachDesc:"BTS의 일본 싱글 뮤직비디오 'For You' 촬영지로, 낮에는 푸른 바다와 한라산의 조화가, 노을 질 무렵에는 드라마틱한 감성을 느낄 수 있어 팬들의 성지로 꼽힙니다.",incheonSongdoTribowl:"인천 송도 트라이보울",incheonSongdoTribowlDesc:"도심 속 미래형 건축물인 트라이보울은 EXO의 겨울 감성 뮤비 'Miracles in December'에서 등장합니다. 낮에는 구조미, 밤에는 조명과 함께한 분위기가 예술적 감성을 더해줍니다.",seoulBukchonHanok:"서울 북촌 한옥마을",seoulBukchonHanokDesc:"아이유의 '밤편지' 뮤비는 서울 북촌의 한옥에서 촬영되었습니다. 조용하고 고즈넉한 분위기에서 한국 전통의 미와 감성을 모두 느낄 수 있습니다.",gyeongjuHwanglidan:"경주 황리단길",gyeongjuHwanglidanDesc:"전통과 현대가 어우러진 감성 거리, 황리단길은 세븐틴의 뮤직비디오 'Darl+ing' 촬영지입니다. 아기자기한 카페와 셀프 포토존이 많아, 뮤비 속 한 장면처럼 인생샷을 남기기에 제격입니다.",gangneungGyeongpoBeach:"강릉 경포대 해변",gangneungGyeongpoBeachDesc:"태연의 '사계' 뮤직비디오는 사계절의 정서를 아름답게 표현한 곡답게, 동해 바다의 다양한 색을 담아냈습니다. 강릉 경포해변은 조용한 감성 여행과 사진 촬영 모두에 적합한 명소입니다.",comingSoon:"더 많은 테마가 추가될 예정입니다.",comingSoonDescription:"더 많은 특별한 테마들이 곧 추가될 예정입니다",nationwideTitle:"전국의 추천 여행지",nationwideSubtitle:"전국 곳곳의 인기있는 여행지를 만나보세요",popularDestinations:"인기 여행지",nationwideDescription:"지역별로 평점/리뷰를 기반으로 한 추천을 받아보세요",businessStatus:"영업중",businessHours:"영업시간",description:"설명",googleReviews:"Google 리뷰 분포",totalReviews:"전체 리뷰",hideReviews:"리뷰 숨기기",relevanceOrder:"관련성순",latestOrder:"최신순",photos:"사진",viewMoreOnGoogleMaps:"Google Maps에서 더 많은 리뷰와 사진 보기",viewReviews:"리뷰 보기",nearbyRestaurants:"주변 맛집 & 숙소",restaurants:"맛집",accommodations:"숙소",morePlaces:"더 보기",moreCount:"개 더",localGuide:"지역 가이드",temporarilyClosed:"임시휴업",permanentlyClosed:"영구폐업",website:"웹사이트",copyAddress:"주소 복사",details:"상세정보",phoneNumber:"전화번호",addToSchedule:"스케줄에 추가",viewOnGoogleMaps:"Google Maps에서 보기",tipCheckHours:"방문 전 전화로 영업시간 확인",tipTransport:"주차 시설 및 대중교통 정보 확인",tipWeather:"날씨에 따른 준비물 체크",likedPlaces:"좋아요한 여행지",recentViews:"최근 본 여행지",noRecentViews:"최근 본 여행지가 없습니다.",noLikedPlaces:"좋아요한 여행지가 없습니다.",noName:"이름 없음",editNickname:"닉네임 변경",passwordChange:"비밀번호 변경",deleteAccount:"회원탈퇴",calendar:"달력",darkModeOn:"다크모드 켜기",darkModeOff:"다크모드 끄기",today:"오늘",selectedDate:"선택된 날짜",otherMonth:"다른 달",loggingIn:"로그인 중...",loginFailed:"로그인에 실패했습니다.",signup:"회원가입",signingUp:"가입 중...",signupFailed:"회원가입에 실패했습니다.",email:"이메일",password:"비밀번호",noAccount:"계정이 없으신가요?",haveAccount:"이미 계정이 있으신가요?",optional:"선택",saving:"저장 중...",change:"변경",nickname:"닉네임",enterNickname:"닉네임을 입력하세요",currentPassword:"현재 비밀번호",enterCurrentPassword:"현재 비밀번호를 입력하세요",newPassword:"새 비밀번호",enterNewPassword:"새 비밀번호를 입력하세요",confirmNewPassword:"새 비밀번호 확인",reenterNewPassword:"새 비밀번호를 다시 입력하세요",detailInfo:"상세 정보",quickActions:"빠른 액션",travelTips:"여행 팁",tipTransport:"주차 시설 및 대중교통 정보 확인",tipWeather:"날씨에 따른 준비물 체크",close:"닫기",page:"페이지",of:"중",region:{"전국":"전국","서울":"서울","부산":"부산","대구":"대구","인천":"인천","광주":"광주","대전":"대전","울산":"울산","세종":"세종","경기":"경기","강원":"강원","충북":"충북","충남":"충남","전북":"전북","전남":"전남","경북":"경북","경남":"경남","제주":"제주"},expandList:"목록 펼치기",collapseList:"목록 접기"}},G={translation:{home:"Home",login:"Login",logout:"Logout",mypage:"My Page",mySchedule:"My Schedule",search:"Search",searchPlaceholder:"Search for travel destinations",loading:"Loading...",user:"User",nationwide:"Nationwide Travel Spots",myInfo:"My Info",kCulture:"K-Culture Themes",kCultureDescription:"Discover the true charm of Korea through history, nature, and modern culture",dmzHistory:"DMZ & Division History Theme",dmzHistoryDescription:"Historical experience course reflecting on the meaning of peace by visiting the sites of division",esports:"eSports Theme",esportsDescription:"Special tour experiencing the growth and culture of Korean eSports",traditionalMarket:"Traditional Market Theme",traditionalMarketDescription:"Authentic local cultural experience in Korea's traditional markets",seoulSkyline:"Seoul City Skyline Theme",seoulSkylineDescription:"Scenic spots where you can enjoy Seoul's beautiful skyline",koreanMountains:"Korean Mountains & Nature Theme",koreanMountainsDescription:"Nature experience theme exploring Korea's representative national parks and famous mountains",kpopMv:"K-pop Music Video Filming Locations Theme",kpopMvDescription:"Theme following filming locations of representative K-pop artists",estimatedTime:"Estimated Time",minutes:"min",hours:"h",address:"Address",tips:"Tips",viewOnMap:"View on Map",viewDetail:"View Details",language:"English",korean:"한국어",english:"English",changeLanguage:"Change Language",thirdTunnelName:"Third Tunnel",thirdTunnelDesc:"Place where you can directly experience the tension of North-South confrontation",imjingakName:"Imjingak Peace Park",imjingak:"Representative tourist site symbolizing the reality of division and peace",dorasanName:"Dorasan Observatory",dorasan:"Observatory where you can directly view North Korean territory",goseongTowerName:"Goseong Unification Observatory",goseongTower:"Representative scenic spot symbolizing the meaning of wishing for unification",dmzMuseumName:"DMZ Museum",dmzMuseum:"Educational space exhibiting the history of division and war",gwangjangMarketName:"Gwangjang Market",namdaemunMarketName:"Namdaemun Market",tonginMarketName:"Tongin Market",mangwonMarketName:"Mangwon Market",noryangjinMarketName:"Noryangjin Fish Market",lolParkName:"LoL Park",esportsHallName:"eSports Hall of Fame",netmarbleMuseumName:"Netmarble Game Museum",t1BuildingName:"T1 Headquarters",inspireArenaName:"Inspire Arena",hikrGroundName:"HiKR Ground",nSeoulTowerSkylineName:"N Seoul Tower",nSeoulTowerSkylineDesc:"A landmark symbolizing the center and heart of Seoul",lotteWorldTowerName:"Lotte World Tower",square63Name:"63 Square",sebitIslandName:"Sebitseom Island",bukhanMountainName:"Bukhansan National Park",seorakMountainName:"Seoraksan National Park",jiriMountainName:"Jirisan National Park",hallaMountainName:"Hallasan National Park",taebaekMountainName:"Taebaeksan National Park",mudungMountainName:"Mudeungsan National Park",lolPark:"LCK official stadium + fan shop & exhibition space included",esportsHall:"Space exhibiting the history and achievements of Korean eSports players",netmarbleMuseum:"Museum where you can experience game history and culture",t1Building:"T1 headquarters - home of T1, the world's best eSports team",inspireArena:"International eSports tournament venue",hikrGround:"Complex cultural space where you can experience K-content and eSports",gwangjangMarket:"Representative of Korean traditional markets, various food and shopping",namdaemunMarket:"Seoul's representative traditional market, operates 24 hours",tonginMarket:"Seoul's representative traditional market, operates 24 hours",mangwonMarket:"Trendy traditional market preferred by young people",noryangjinMarket:"Wholesale market where you can taste fresh seafood and live fish",lotteWorldTower:"Observatory where you can view Seoul's entire landscape from high altitude",sixtyThreeSquare:"Observatory where you can see the Han River and Seoul city center at a glance",sebitIsland:"Artificial island on the Han River, famous night view photo spot",bukhansanPark:"Best scenic spot where you can view all of Seoul",seoraksan:"Korea's representative national park, includes famous spots like Ulsan Rock and Gwongeumseong",jirisan:"Korea's first national park, famous for sunrise views from Cheonwangbong Peak",hallasan:"Korea's highest peak (1950m), famous for Baengnokdam crater lake",bukhansan:"Best accessibility from Seoul, #1 popular hiking spot for foreign tourists",mudungsan:"Symbolic mountain of the southern region, famous for natural rock pillar 'Ipseokdae'",garosuGil:"Filming background for various artists including BTS",starfieldCoex:"Famous filming location for girl group music videos",hangangBridge:"Symbolic background for idol music videos",apgujeongRodeo:"Filming spot where fashion and music meet",dmzTips:["Best mountain during autumn foliage season","Must visit Ulsan Rock and Gwongeumseong"],esportsTips:["Check LCK match schedule","Purchase goods at fan shop"],marketTips:["Most lively during morning hours","Cash preparation required"],skylineTips:["Recommended visit during sunset","Utilize night view photo zones"],mountainTips:["Hiking equipment required","Check weather before visiting"],kpopTips:["Check fan meeting schedule","Identify photo spots in advance"],themeRecommendation:"Theme Recommendation",startTheme:"Start Theme",natureTitle:"Invitation to Nature",natureSub:"Mountains, seas, and islands all in one",cityTitle:"Healing Spots in the City",citySub:"Start from nearby places",historyTitle:"Time Travel",historySub:"Into the past",festivalTitle:"Season of Festivals",festivalSub:"Perfect for now",mainTitle:"Hello Korea",mainSubtitle:"Travel theme recommendations and famous regional spot services",footerDescription:"Domestic travel ideas in one place.",footerEmail:"0523jeman@naver.com",footerGuide:"Guide",footerTerms:"Terms of Service",footerPrivacy:"Privacy Policy",footerTermsTitle:"Terms of Service",footerPrivacyTitle:"Privacy Policy",footerTermsContent:"\n      <p><strong>Article 1 (Purpose)</strong> These terms define the rights, obligations, and responsibilities between Hello Korea (the 'Company') and users regarding the use of services provided by the Company.</p>\n      <p><strong>Article 2 (Definitions)</strong> 'User' means members and non-members who access the Company's services and use them in accordance with these terms.</p>\n      <p><strong>Article 3 (Effect and Changes)</strong> The Company may amend these terms within the scope not violating applicable laws and will notify users via announcements.</p>\n      <p><strong>Article 4 (Provision and Changes of Services)</strong> The Company may change the content and policies of the services and will provide prior notice.</p>\n      <p><strong>Article 5 (User Obligations)</strong> Users must comply with relevant laws and these terms and must not interfere with the stable operation of the services.</p>\n      <p><strong>Article 6 (Limitation of Liability)</strong> The Company is not responsible for service failures caused by force majeure such as natural disasters or third-party faults.</p>\n    ",footerPrivacyContent:"\n      <p><strong>1. Information Collected</strong> Minimum information necessary for service provision such as email and nickname</p>\n      <p><strong>2. Purpose of Use</strong> For member management, service improvement, and customer inquiries</p>\n      <p><strong>3. Retention Period</strong> Until the purpose is fulfilled or according to the statutory retention period</p>\n      <p><strong>4. Third-Party Provision</strong> Not provided to third parties without prior consent unless required by law.</p>\n      <p><strong>5. User Rights</strong> Users may request access, correction, or deletion of personal information via customer support.</p>\n    ",footerCustomer:"Customer Service",footerHours:"Weekdays 09:00 ~ 18:00",scheduleManagement:"Schedule Management",schedule:"Schedule",addSchedule:"Add Schedule",editSchedule:"Edit Schedule",deleteSchedule:"Delete Schedule",scheduleCount:"schedules",timeDistribution:"Time Distribution",noScheduleData:"No schedule data available",totalHours:"Total Hours",totalDuration:"Total Duration",noSchedule:"No schedules",addNewSchedule:"Add a new schedule",startTime:"Start Time",endTime:"End Time",placeActivity:"Place/Activity",placePlaceholder:"e.g., Gangnam Station, Lotte World Tower",category:"Category",memo:"Memo (Optional)",memoPlaceholder:"Enter additional information or notes",previous:"Previous",next:"Next",displayCount:"Display Count",items:"items",loadingSchedule:"Loading schedules...",errorOccurred:"Error occurred:",enterTime:"Please enter time",enterPlaceActivity:"Please enter place/activity name",loadingNearbyInfo:"Loading nearby information...",noNearbyPlaces:"No restaurants or accommodations found nearby.",invalidTimeFormat:"Invalid time format (HH:MM)",endTimeAfterStart:"End time must be later than start time",reviews:"Reviews",loadingPlaceInfo:"Loading place information...",tourism:"Tourism",dining:"Dining",shopping:"Shopping",transportation:"Transportation",accommodation:"Accommodation",culturalFacility:"Cultural Facility",etc:"Etc",excelDownload:"Excel Download",pngDownload:"PNG Download",jpgDownload:"JPG Download",share:"Share",progressStatus:"Progress Status",scheduleStatus:"Schedule",cancel:"Cancel",save:"Save",businessStatus:"Business Status",businessHours:"Business Hours",address:"Address",copyAddress:"Copy Address",likedPlaces:"Liked Places",recentViews:"Recently Viewed",noRecentViews:"No recently viewed places.",noLikedPlaces:"No liked places.",noName:"No Name",editNickname:"Edit Nickname",passwordChange:"Change Password",logout:"Logout",deleteAccount:"Delete Account",calendar:"Calendar",darkModeOn:"Dark Mode On",darkModeOff:"Dark Mode Off",today:"Today",selectedDate:"Selected Date",otherMonth:"Other Month",login:"Login",loggingIn:"Logging in...",loginFailed:"Login failed.",signup:"Sign Up",signingUp:"Signing up...",signupFailed:"Signup failed.",email:"Email",password:"Password",noAccount:"Don't have an account?",haveAccount:"Already have an account?",optional:"Optional",cancel:"Cancel",save:"Save",saving:"Saving...",change:"Change",nickname:"Nickname",enterNickname:"Enter your nickname",currentPassword:"Current Password",enterCurrentPassword:"Enter current password",newPassword:"New Password",enterNewPassword:"Enter new password",confirmNewPassword:"Confirm New Password",reenterNewPassword:"Re-enter new password",viewOnMap:"View on Map",description:"Description",googleReviews:"Google Reviews",reviewDistribution:"Review Distribution",totalReviews:"Total Reviews",reviews:"Reviews",hideReviews:"Hide Reviews",relevanceOrder:"Relevance",latestOrder:"Latest",photos:"Photos",viewMoreOnGoogleMaps:"View more reviews and photos on Google Maps",nearbyRestaurants:"Nearby Restaurants",nearbyAccommodations:"Nearby Accommodations",restaurants:"Restaurants",accommodations:"Accommodations",temporarilyClosed:"Temporarily Closed",permanentlyClosed:"Permanently Closed",website:"Website",copyAddress:"Copy Address",detailInfo:"Details",phoneNumber:"Phone Number",quickActions:"Quick Actions",addToSchedule:"Add to Schedule",travelTips:"Travel Tips",tipCheckHours:"Call ahead to confirm business hours",tipTransport:"Check parking and public transport options",tipWeather:"Prepare items according to the weather",close:"Close",kpopDemonHunters:"K-POP Demon Hunters Theme",kpopDemonHuntersDescription:"Special fan tour following filming locations from the K-POP Demon Hunters movie",coexKpopPlaza:"COEX K-POP Plaza & 3D Billboard",coexKpopPlazaDesc:"Iconic 3D billboard where Huntrix's new song teaser was revealed",naksanPark:"Naksan Park",naksanParkDesc:"Emotional location where Rumi and Jinu walk along Seoul's fortress walls",cheongdamBridge:"Cheongdam Bridge & Jayang Station",cheongdamBridgeDesc:"Background for action scenes unfolding on the subway crossing the Han River",nSeoulTower:"N Seoul Tower",nSeoulTowerDesc:"Landmark symbolizing the center and heart of Seoul",jamsilOlympicStadium:"Jamsil Olympic Stadium",jamsilOlympicStadiumDesc:"Explosive opening venue where the three protagonists performed their debut stage",myeongdongStreet:"Myeongdong Street",myeongdongStreetDesc:"Vibrant neon-lit street where Saja Boys performed Soda Pop with fans",historicalSites:"Historical Sites Theme",historicalSitesDescription:"Special journey experiencing the center of Korean history from the Joseon Dynasty to the Korean Empire",gyeongbokgung:"Gyeongbokgung Palace",gyeongbokgungDesc:"The main palace of the Joseon Dynasty, representing the pinnacle of Korean traditional architecture",sungnyemun:"Sungnyemun Gate",sungnyemunDesc:"Seoul's South Gate, a symbolic architectural structure of the Joseon Dynasty",changdeokgung:"Changdeokgung Palace",changdeokgungDesc:"UNESCO World Heritage Site and representative palace of the Joseon Dynasty",jongmyo:"Jongmyo Shrine",jongmyoDesc:"Shrine where the spirit tablets of all Joseon Dynasty kings are enshrined",deoksugung:"Deoksugung Palace",deoksugungDesc:"Imperial palace of the Korean Empire and center of modern history",kpopMvLocations:"K-pop Artist Music Video Filming Locations Theme",kpopMvLocationsDescription:"Follow the footsteps of popular K-pop artists",jejuSagyeBeach:"Jeju Sagye Beach",jejuSagyeBeachDesc:"Filming location for BTS's Japanese single music video 'For You'. During the day, you can feel the harmony of the blue sea and Hallasan Mountain, and at sunset, you can experience a dramatic sensibility, making it a pilgrimage site for fans.",incheonSongdoTribowl:"Incheon Songdo Tribowl",incheonSongdoTribowlDesc:"Tribowl, a futuristic building in the city center, appears in EXO's winter emotional music video 'Miracles in December'. During the day, its structural beauty, and at night, the atmosphere with lighting, add artistic sensibility.",seoulBukchonHanok:"Seoul Bukchon Hanok Village",seoulBukchonHanokDesc:"IU's 'Through the Night' music video was filmed in a hanok (traditional Korean house) in Bukchon, Seoul. You can experience both the beauty and sensibility of Korean tradition in a quiet and serene atmosphere.",gyeongjuHwanglidan:"Gyeongju Hwanglidan-gil",gyeongjuHwanglidanDesc:"A sentimental street where tradition and modernity harmonize, Hwanglidan-gil is the filming location for SEVENTEEN's music video 'Darl+ing'. With many charming cafes and self-photo zones, it's perfect for taking 'life shots' like a scene from a music video.",gangneungGyeongpoBeach:"Gangneung Gyeongpo Beach",gangneungGyeongpoBeachDesc:"Taeyeon's 'Four Seasons' music video, as befits a song that beautifully expresses the emotions of the four seasons, captures the diverse colors of the East Sea. Gangneung Gyeongpo Beach is a famous spot suitable for both quiet emotional travel and photography.",comingSoon:"More themes will be added soon.",comingSoonDescription:"More special themes will be added soon",nationwideTitle:"Nationwide Recommended Destinations",nationwideSubtitle:"Discover popular travel destinations across the country",popularDestinations:"Popular Destinations",nationwideDescription:"Get recommendations based on ratings and reviews by region",businessStatus:"Open",businessHours:"Business Hours",description:"Description",googleReviews:"Google Reviews Distribution",totalReviews:"Total Reviews",reviews:"Reviews",viewReviews:"View Reviews",nearbyRestaurants:"Nearby Restaurants & Accommodations",restaurants:"Restaurants",accommodations:"Accommodations",morePlaces:"More",moreCount:"more",localGuide:"Local Guide",details:"Details",address:"Address",phoneNumber:"Phone Number",quickActions:"Quick Actions",addToSchedule:"Add to Schedule",viewOnGoogleMaps:"View on Google Maps",travelTips:"Travel Tips",tipCheckHours:"Call ahead to confirm business hours",tipTransport:"Check parking and public transport options",tipWeather:"Prepare items according to the weather",page:"Page",of:"of",region:{"전국":"Nationwide","서울":"Seoul","부산":"Busan","대구":"Daegu","인천":"Incheon","광주":"Gwangju","대전":"Daejeon","울산":"Ulsan","세종":"Sejong","경기":"Gyeonggi","강원":"Gangwon","충북":"Chungbuk","충남":"Chungnam","전북":"Jeonbuk","전남":"Jeonnam","경북":"Gyeongbuk","경남":"Gyeongnam","제주":"Jeju"},expandList:"Expand List",collapseList:"Collapse List"}};c.use(_).use(g).init({resources:{ko:W,en:G},fallbackLng:"ko",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]}});const q=e.createContext(void 0),K=()=>{const t=e.useContext(q);if(void 0===t)throw new Error("useDarkMode must be used within a DarkModeProvider");return t},Y=({children:t})=>{const[a,r]=e.useState(()=>"true"===localStorage.getItem("darkMode"));e.useEffect(()=>{a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",a.toString())},[a]);return k.jsx(q.Provider,{value:{isDark:a,toggleDarkMode:()=>{r(!a)}},children:t})},V="https://hello-korea.link",X={AUTH:{LOGIN:"/v1/auth/login",SIGNUP:"/v1/auth/signup"}},Z=e=>`${V}${e}`,Q=new Map,ee=new Map;async function te(e,{method:t="GET",body:a,headers:r={}}={}){const s=localStorage.getItem("vk_token"),o=localStorage.getItem("i18nextLng")||"ko",n={"Accept-Language":o,...r};"DELETE"!==t&&(n["Content-Type"]="application/json"),s&&(n.Authorization=`Bearer ${s}`);const i=Z(e);if("GET"===t){const e=function(e,t){return`GET|${e}|lang=${t}`}(i,o),a=Date.now(),r=ee.get(e);if(r&&r.expiresAt>a)return r.data;const s=Q.get(e);if(s)return s;const l=(async()=>{const r=await fetch(i,{method:t,headers:n,body:void 0});if(!r.ok){if(401===r.status)throw console.warn("JWT 토큰이 만료되었거나 유효하지 않습니다. 로그인 페이지로 이동합니다."),localStorage.removeItem("vk_token"),window.location.href="/login",new Error("Authentication expired");const e=await r.json().catch(()=>({}));throw new Error(e.error||`HTTP ${r.status}`)}const s=r.headers.get("content-type");if(s&&s.includes("text/html"))throw console.error("서버에서 HTML을 반환했습니다. API 엔드포인트를 확인하세요."),new Error("Server returned HTML instead of JSON");try{const t=await r.json();return ee.set(e,{expiresAt:a+1e4,data:t}),t}catch(o){throw console.error("JSON 파싱 실패:",o),console.error("응답 내용:",await r.text()),new Error("Failed to parse JSON response")}finally{Q.delete(e)}})();return Q.set(e,l),l}const l=await fetch(i,{method:t,headers:n,body:a?JSON.stringify(a):void 0});if(!l.ok){if(401===l.status)throw console.warn("JWT 토큰이 만료되었거나 유효하지 않습니다. 로그인 페이지로 이동합니다."),localStorage.removeItem("vk_token"),window.location.href="/login",new Error("Authentication expired");const e=await l.json().catch(()=>({}));throw new Error(e.error||`HTTP ${l.status}`)}const d=l.headers.get("content-type");if(d&&d.includes("text/html"))throw console.error("서버에서 HTML을 반환했습니다. API 엔드포인트를 확인하세요."),new Error("Server returned HTML instead of JSON");try{return await l.json()}catch(c){throw console.error("JSON 파싱 실패:",c),console.error("응답 내용:",await l.text()),new Error("Failed to parse JSON response")}}function ae(){return!!localStorage.getItem("vk_token")}function re(){localStorage.removeItem("vk_token")}let se=null;async function oe(){const e=Date.now();if(se&&e-se.fetchedAt<6e4)return se.data;const t=await te("/v1/users/me");return se={data:t,fetchedAt:e},t}function ne({isOpen:t,onClose:a,triggerRef:o}){const n=r(),{t:i,i18n:l}=m(),{isDark:d,toggleDarkMode:c}=K(),g=e.useRef(null),[u,h]=e.useState(null),[p,x]=e.useState(!1);e.useEffect(()=>{const e=e=>{g.current&&!g.current.contains(e.target)&&o.current&&!o.current.contains(e.target)&&a()};return t&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[t,a,o]),e.useEffect(()=>{!t||u||p||(x(!0),oe().then(h).catch(console.error).finally(()=>x(!1)))},[t,u,p]);return t?k.jsxs("div",{ref:g,className:"absolute top-full right-0 mt-3 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-[100]",children:[k.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-400 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-medium",children:p?"...":u?.displayName?u.displayName.charAt(0).toUpperCase():u?.email?u.email.charAt(0).toUpperCase():"U"}),k.jsxs("div",{children:[k.jsx("div",{className:"text-sm font-medium text-gray-900",children:p?i("loading"):u?.displayName||u?.email||i("user")}),k.jsx("div",{className:"text-xs text-gray-500",children:p?"...":u?.email||"user@example.com"})]})]})}),k.jsxs("div",{className:"py-1",children:[k.jsxs(s,{to:"/mypage",onClick:a,className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[k.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v2H8V5z"})]}),i("mypage")]}),k.jsxs(s,{to:"/schedule",onClick:a,className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[k.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3M4 11h16M4 19h16M5 7h14a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V9a2 2 0 012-2z"})}),i("schedule")]}),k.jsxs("button",{onClick:()=>{c(),a()},className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors w-full text-left",children:[d?k.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):k.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),i(d?"darkModeOff":"darkModeOn")]}),k.jsxs("button",{onClick:()=>{localStorage.removeItem("vk_token"),window.location.reload(),a(),n("/")},className:"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors w-full text-left",children:[k.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),i("logout")]})]})]}):null}function ie(){const{t:t}=m(),{isDark:a,toggleDarkMode:n}=K(),i=o(),[l,d]=e.useState(!1),c=r(),g=ae(),u=e.useRef(null),[h,p]=e.useState(!1),[x,y]=e.useState(!1),[f,b]=e.useState(null),[v,w]=e.useState(!1),[j,N]=e.useState(!1),S=i.pathname.includes("/mypage")||i.pathname.includes("/schedule")||i.pathname.includes("/places/")||i.pathname.includes("/detail/")||i.pathname.includes("/login")||i.pathname.includes("/signup");return e.useEffect(()=>{g&&oe().then(b).catch(console.error)},[g]),e.useEffect(()=>{const e=e=>{"Escape"===e.key&&y(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]),e.useEffect(()=>{const e=()=>{const e=window.scrollY;N(e>50)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),k.jsx("header",{className:"relative z-[70]",onMouseLeave:()=>y(!1),"data-debug-nav":x?"open":"closed",children:k.jsxs("div",{className:"fixed inset-x-0 top-0 z-[60] transition-all duration-250 ease-out "+(x||j||S?"bg-white shadow-md":"bg-transparent"),children:[k.jsx("div",{className:"absolute left-4 sm:left-6 md:left-8 lg:left-12 xl:left-16 top-1/2 transform -translate-y-1/2 z-10",children:k.jsx(s,{to:"/",className:"flex items-center hover:opacity-80 transition-all duration-250 ease-out",onClick:()=>{y(!1),c("/")},children:h?k.jsx("span",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl xl:text-4xl font-bold drop-shadow-lg transition-all duration-250 ease-out cursor-pointer "+(x||j||S?"text-gray-900 drop-shadow-none":"text-white"),children:"Hello Korea"}):k.jsx("img",{src:"/HelloKorea.png",alt:"Hello Korea",className:"h-8 sm:h-10 md:h-12 lg:h-14 w-auto object-contain cursor-pointer max-w-[120px] sm:max-w-[140px] md:max-w-[160px] lg:max-w-none",onError:()=>p(!0)})})}),k.jsx("div",{className:"absolute right-4 sm:right-6 md:right-8 lg:right-12 xl:right-16 top-1/2 transform -translate-y-1/2 z-20",children:k.jsxs("div",{className:"flex items-center gap-3 md:gap-5",children:[k.jsx("button",{"aria-label":"toggle dark mode",className:"hidden md:flex w-11 h-11 md:w-12 md:h-12 lg:w-14 lg:h-14 rounded-full items-center justify-center transition-all "+(x||j||S?"bg-gray-100 text-gray-900 hover:bg-gray-200":"bg-white/20 hover:bg-white/30 text-white"),onClick:n,children:a?k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 md:w-6 md:h-6",children:k.jsx("path",{d:"M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.05 6.05A.75.75 0 006 7.05l1.59 1.591a.75.75 0 001.06-1.06L7.05 6.05zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.05 16.95a.75.75 0 001.06 1.06l1.591-1.59a.75.75 0 00-1.06-1.061l-1.591 1.59z"})}):k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 md:w-6 md:h-6",children:k.jsx("path",{d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.752-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"})})}),k.jsxs("div",{className:"relative order-3",children:[k.jsx("button",{"aria-label":"change language",className:"w-11 h-11 md:w-12 md:h-12 lg:w-14 lg:h-14 backdrop-blur-sm rounded-full flex items-center justify-center font-bold text-lg transition-all duration-250 ease-out "+(x||j||S?"bg-gray-100 text-gray-900":"bg-white/20 hover:bg-white/30 text-white"),onClick:()=>{const e=document.getElementById("global-lang-dd");e?.classList.toggle("hidden")},children:localStorage.getItem("i18nextLng")?.startsWith("ko")?"KR":"EN"}),k.jsxs("div",{id:"global-lang-dd",className:"hidden absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-xl border border-gray-200 py-2 z-50",children:[k.jsxs("button",{className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 "+(localStorage.getItem("i18nextLng")?.startsWith("ko")?"font-semibold text-blue-600":"text-gray-700"),onClick:()=>{localStorage.setItem("i18nextLng","ko"),window.location.reload()},children:["🇰🇷 ",t("korean")]}),k.jsxs("button",{className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 "+(localStorage.getItem("i18nextLng")?.startsWith("en")?"font-semibold text-blue-600":"text-gray-700"),onClick:()=>{localStorage.setItem("i18nextLng","en"),window.location.reload()},children:["🇺🇸 ",t("english")]})]})]}),k.jsx("div",{className:"relative",children:g?k.jsxs(k.Fragment,{children:[k.jsx("button",{ref:u,onClick:()=>{w(!v)},className:"w-11 h-11 md:w-12 md:h-12 lg:w-14 lg:h-14 backdrop-blur-sm rounded-full flex items-center justify-center font-bold text-lg transition-all duration-250 ease-out "+(x||j||S?"bg-gray-100 text-gray-900":"bg-white/20 hover:bg-white/30 text-white"),children:"MY"}),v&&k.jsx(ne,{isOpen:v,onClose:()=>w(!1),triggerRef:u})]}):k.jsx(s,{to:"/login",className:"px-4 py-3 md:px-6 md:py-4 backdrop-blur-sm font-semibold rounded-full transition-all duration-250 ease-out text-base md:text-lg "+(x||j||S?"bg-gray-100 text-gray-900":"bg-white/20 hover:bg-white/30 text-white"),children:t("login")})})]})}),k.jsx("div",{className:"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 md:hidden z-20",children:k.jsx("button",{type:"button",className:"w-10 h-10 rounded-full backdrop-blur-sm flex items-center justify-center transition-all duration-250 ease-out "+(x||j||S?"bg-gray-100 text-gray-900":"bg-white/20 hover:bg-white/30 text-white"),onClick:()=>y(!x),"aria-label":"메뉴",children:k.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x?k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),k.jsx("div",{className:"mx-auto max-w-screen-xl flex justify-center items-center h-16 md:h-20 px-4 md:px-6",children:k.jsx("nav",{className:"hidden md:flex justify-center items-center",children:k.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 md:gap-6 lg:gap-8 xl:gap-10",children:[k.jsx(s,{to:"/",className:"text-sm sm:text-base md:text-lg lg:text-xl xl:text-2xl font-semibold md:font-bold hover:text-yellow-300 transition-all duration-250 ease-out drop-shadow-md inline-flex items-center "+(x||j||S?"text-gray-900 drop-shadow-none":"text-white"),children:t("home")}),k.jsx(s,{to:"/nationwide",className:"text-sm sm:text-base md:text-lg lg:text-xl xl:text-2xl font-semibold md:font-bold hover:text-yellow-300 transition-all duration-250 ease-out drop-shadow-md inline-flex items-center "+(x||j||S?"text-gray-900 drop-shadow-none":"text-white"),children:t("nationwide")}),k.jsxs("button",{type:"button",className:"text-sm sm:text-base md:text-lg lg:text-xl xl:text-2xl font-semibold md:font-bold hover:text-yellow-300 transition-all duration-250 ease-out drop-shadow-md inline-flex items-center "+(x||j||S?"text-gray-900 drop-shadow-none":"text-white"),onClick:()=>y(!x),"aria-expanded":x,"aria-haspopup":"true","aria-controls":"mega-menu",children:[t("myInfo"),k.jsx("svg",{className:"ml-1 w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:k.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})})}),x&&k.jsx("div",{className:"absolute inset-x-0 top-16 md:top-20 bg-white shadow-lg transform transition-all duration-300 ease-out z-40 animate-slideDown",role:"menu","aria-label":"메뉴",id:"mega-menu",children:k.jsxs("div",{className:"mx-auto max-w-screen-xl px-4 md:px-6 py-6 md:py-8",children:[k.jsx("div",{className:"sm:hidden mb-6",children:k.jsxs("div",{className:"flex flex-col space-y-4",children:[k.jsxs(s,{to:"/",className:"text-lg font-semibold text-gray-900 hover:text-blue-600 transition-all duration-250 ease-out flex items-center py-2",onClick:()=>y(!1),children:[k.jsx("svg",{className:"w-5 h-5 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:k.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),t("home")]}),k.jsxs(s,{to:"/nationwide",className:"text-lg font-semibold text-gray-900 hover:text-blue-600 transition-all duration-250 ease-out flex items-center py-2",onClick:()=>y(!1),children:[k.jsx("svg",{className:"w-5 h-5 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:k.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),t("nationwide")]})]})}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:k.jsxs("div",{children:[k.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-900 mb-3 md:mb-4"}),k.jsxs("ul",{className:"space-y-2 md:space-y-3",children:[k.jsx("li",{children:k.jsxs(s,{to:"/mypage",className:"text-sm md:text-base text-gray-700 hover:text-blue-600 transition-all duration-250 ease-out flex items-center",onClick:()=>y(!1),children:[k.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:k.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),t("mypage")]})}),k.jsx("li",{children:k.jsxs(s,{to:"/schedule",className:"text-sm md:text-base text-gray-700 hover:text-blue-600 transition-all duration-250 ease-out flex items-center",onClick:()=>y(!1),children:[k.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:k.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),t("mySchedule")]})})]})]})})]})})]})})}function le(){const{t:t}=m(),[a,r]=e.useState(!1),[s,o]=e.useState(!1);return k.jsxs("footer",{className:"border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[k.jsx("div",{className:"container-xl py-10 md:py-14",children:k.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[k.jsxs("div",{children:[k.jsx("div",{className:"text-lg font-bold mb-2 text-gray-900 dark:text-gray-100",children:"Hello Korea"}),k.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:t("footerDescription")})]}),k.jsxs("div",{children:[k.jsx("div",{className:"font-semibold mb-2 text-gray-900 dark:text-gray-100",children:t("footerGuide")}),k.jsxs("ul",{className:"space-y-1 text-sm",children:[k.jsx("li",{children:k.jsx("button",{type:"button",className:"hover:underline text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100 transition-colors",onClick:()=>r(!0),children:t("footerTerms")})}),k.jsx("li",{children:k.jsx("button",{type:"button",className:"hover:underline text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100 transition-colors",onClick:()=>o(!0),children:t("footerPrivacy")})})]})]}),k.jsxs("div",{children:[k.jsx("div",{className:"font-semibold mb-2 text-gray-900 dark:text-gray-100",children:t("footerCustomer")}),k.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:t("footerHours")}),k.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:t("footerEmail")})]})]})}),k.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700",children:k.jsx("div",{className:"container-xl py-4",children:k.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:["© ",(new Date).getFullYear()," HelloKorea"]})})}),a&&k.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"terms-title",children:k.jsxs("div",{className:"bg-white dark:bg-gray-800 w-full max-w-3xl rounded-xl shadow-xl overflow-hidden",children:[k.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[k.jsx("h3",{id:"terms-title",className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:t("footerTermsTitle")}),k.jsx("button",{"aria-label":"close",className:"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>r(!1),children:k.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),k.jsx("div",{className:"px-6 py-5 max-h-[70vh] overflow-y-auto text-sm leading-6 text-gray-700 dark:text-gray-300",children:k.jsx("div",{className:"space-y-4",dangerouslySetInnerHTML:{__html:t("footerTermsContent")}})}),k.jsx("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:k.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>r(!1),children:t("close")})})]})}),s&&k.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/50 p-4",role:"dialog","aria-modal":"true","aria-labelledby":"privacy-title",children:k.jsxs("div",{className:"bg-white dark:bg-gray-800 w-full max-w-3xl rounded-xl shadow-xl overflow-hidden",children:[k.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[k.jsx("h3",{id:"privacy-title",className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:t("footerPrivacyTitle")}),k.jsx("button",{"aria-label":"close",className:"p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>o(!1),children:k.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),k.jsx("div",{className:"px-6 py-5 max-h-[70vh] overflow-y-auto text-sm leading-6 text-gray-700 dark:text-gray-300",children:k.jsx("div",{className:"space-y-4",dangerouslySetInnerHTML:{__html:t("footerPrivacyContent")}})}),k.jsx("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:k.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>o(!1),children:t("close")})})]})})]})}const de={ChIJufY8c6pDDDURw6IIswavqFk:{address:"대한민국 제주특별자치도 서귀포시 안덕면 사계리 131-8",addressEn:"131-8 Sagye-ri, Andeok-myeon, Seogwipo-si, Jeju-do, South Korea",rating:4.6,reviews:1520},ChIJGVQOXbd3ezURbRuEUgEqcAY:{address:"대한민국 인천광역시 연수구 송도동 24-6",addressEn:"24-6 Songdo-dong, Yeonsu-gu, Incheon, South Korea",rating:4.5,reviews:980},ChIJT8H4r9qifDURmuXJ_6m6vM0:{address:"대한민국 서울특별시 종로구 계동길",addressEn:"Gye-dong-gil, Jongno-gu, Seoul, South Korea",rating:4.7,reviews:3210},"ChIJA8nY8ExPZjURPC-8kcf4l4E":{address:"대한민국 경상북도 경주시 황남동 포석로 일대",addressEn:"Poseok-ro area, Hwangnam-dong, Gyeongju-si, Gyeongsangbuk-do, South Korea",rating:4.4,reviews:1240},ChIJ5bPrXKbmYTURdcro_j76LSM:{address:"대한민국 강원특별자치도 동해시 강문동 경포대 해변",addressEn:"Gyeongpo Beach, Gangmun-dong, Donghae-si, Gangwon-do, South Korea",rating:4.5,reviews:2100},ChIJm3V0fu2ifDURRJ8IMUijVtY:{address:"서울특별시 종로구 창경궁로 88",addressEn:"88 Changgyeonggung-ro, Jongno-gu, Seoul",rating:4.3,reviews:1200},ChIJfYjlFvWifDURYSDsoxYbN80:{address:"서울특별시 중구 남대문시장4길 21",addressEn:"21 Namdaemunsijang 4-gil, Jung-gu, Seoul",rating:4.2,reviews:890},ChIJYxd6fL6ifDURy7wm894BUcQ:{address:"서울특별시 종로구 자하문로15길 18",addressEn:"18 Jahamun-ro 15-gil, Jongno-gu, Seoul",rating:4.4,reviews:650},ChIJA6gxryiZfDURJvmbeBvdz_Y:{address:"서울특별시 마포구 포은로6길 27",addressEn:"27 Poeun-ro 6-gil, Mapo-gu, Seoul",rating:4.5,reviews:420},ChIJOTEaKmiffDURNTst1Jzcm_c:{address:"서울특별시 동작구 노들로 674",addressEn:"674 Nodeul-ro, Dongjak-gu, Seoul",rating:4.1,reviews:380},"ChIJny4XAzCjfDURddP-mnc3F5I":{address:"서울특별시 종로구 종로 33",addressEn:"33 Jongno, Jongno-gu, Seoul",rating:4.7,reviews:2100},ChIJtVrU7smZfDURaQp3BkxFjr0:{address:"서울특별시 마포구 매봉산로 31 에스플렉스센터",addressEn:"31 Maebongsan-ro, Mapo-gu, Seoul",rating:4.5,reviews:890},ChIJtyNIIwCffDUR6t9TVxQRkKo:{address:"서울특별시 구로구 디지털로26길 38",addressEn:"38 Digital-ro 26-gil, Guro-gu, Seoul",rating:4.3,reviews:650},ChIJr5vJBJqlfDUREEiXKv7g0Lk:{address:"서울특별시 강남구 선릉로 627",addressEn:"627 Seolleung-ro, Gangnam-gu, Seoul",rating:4.8,reviews:3200},ChIJeYgyHHSRezUR_2jZaVUIaBE:{address:"인천광역시 중구 공항문화로 127",addressEn:"127 Gonghangmunhwa-ro, Jung-gu, Incheon",rating:4.6,reviews:1500},"ChIJ_xCS_d-jfDURgqxl66H3dd8":{address:"서울특별시 중구 청계천로 40",addressEn:"40 Cheonggyecheon-ro, Jung-gu, Seoul",rating:4.4,reviews:780},"ChIJqWqOqFeifDURpYJ5LnxX-Fw":{address:"서울특별시 용산구 남산공원길 105",addressEn:"105 Namsangongwon-gil, Yongsan-gu, Seoul",rating:4.5,reviews:4500},ChIJW2ZfkQqlfDUR4vz9Xs0Q66s:{address:"서울특별시 송파구 올림픽로 300",addressEn:"300 Olympic-ro, Songpa-gu, Seoul",rating:4.6,reviews:3200},ChIJn_UiGDyffDURWfZBRKwb5YE:{address:"서울특별시 영등포구 63로 50",addressEn:"50 63-ro, Yeongdeungpo-gu, Seoul",rating:4.3,reviews:1800},ChIJLzszLIChfDURhVOQTkJ62oA:{address:"서울특별시 서초구 올림픽대로 2085-14",addressEn:"2085-14 Olympic-daero, Seocho-gu, Seoul",rating:4.4,reviews:1200},ChIJ01rMH2ij2F8RftWPpRMs3kc:{address:"강원도 속초시 설악산로 833",addressEn:"833 Seoraksan-ro, Sokcho-si, Gangwon-do",rating:4.6,reviews:1250},ChIJXw508rQ3bjURk6aL3D1mbsg:{address:"경상남도 하동군 화개면 대성리",addressEn:"Daeseong-ri, Hwagae-myeon, Hadong-gun, Gyeongsangnam-do",rating:4.5,reviews:890},ChIJA9hkSe_4DDURXkdwHzTjZlk:{address:"제주특별자치도 제주시 1100로 2070-61",addressEn:"2070-61 1100-ro, Jeju-si, Jeju-do",rating:4.7,reviews:2100},"ChIJN2x0fu2ifDURheJ4-U3YaAA":{address:"서울특별시 성북구 보국문로 262",addressEn:"262 Bogungmun-ro, Seongbuk-gu, Seoul",rating:4.4,reviews:680},"ChIJx2Obgg_zcTURObfo-XgmMQU":{address:"광주광역시 북구 무등로 1550",addressEn:"1550 Mudeung-ro, Buk-gu, Gwangju",rating:4.3,reviews:420},"ChIJdfT6qFulfDURzJT-qKKTqtM":{address:"서울특별시 강남구 영동대로 513",addressEn:"513 Yeongdong-daero, Gangnam-gu, Seoul",rating:4.6,reviews:59},ChIJ6RPSci2jfDURXTSdf7JjYp8:{address:"서울특별시 종로구 낙산길 41",addressEn:"41 Naksan-gil, Jongno-gu, Seoul",rating:4.4,reviews:320},ChIJ1Y4dnPWkfDUR5DNjpoAGbUU:{address:"서울특별시 광진구 자양동",addressEn:"Jayang-dong, Gwangjin-gu, Seoul",rating:4.2,reviews:180},"ChIJzdyah1CkfDURaH-M8oS9AXc":{address:"서울특별시 송파구 올림픽로 25",addressEn:"25 Olympic-ro, Songpa-gu, Seoul",rating:4.5,reviews:890},ChIJXz2vx_GifDURImd3aTJZ1VA:{address:"서울특별시 중구 명동2가",addressEn:"Myeongdong 2-ga, Jung-gu, Seoul",rating:4.3,reviews:1200},ChIJS3Dv5fXzfDURj3FHEIScjWk:{address:"경기도 파주시 군내면 점원리 산167-1",addressEn:"San 167-1, Jeomwon-ri, Gunnae-myeon, Paju-si, Gyeonggi-do",rating:4.1,reviews:450},ChIJA7KB6y3yfDURotGEP4eJ8qE:{address:"경기도 파주시 문산읍 임진각로 148-40",addressEn:"148-40 Imjingak-ro, Munsan-eup, Paju-si, Gyeonggi-do",rating:4.3,reviews:680},"ChIJ4-IaFvvzfDURGc9rCXvxR-M":{address:"경기도 파주시 장단면 제3땅굴로 310",addressEn:"310 Je3-tanggul-ro, Jangdan-myeon, Paju-si, Gyeonggi-do",rating:4.2,reviews:320},"ChIJzbchvDdR2F8Rg8djTNec-Yk":{address:"강원특별자치도 고성군 현내면 금강산로 481",addressEn:"481 Geumgangsan-ro, Hyeonnae-myeon, Goseong-gun, Gangwon-do",rating:4.4,reviews:280},"ChIJ0yFnY9BW2F8Rio-wXDrXqCQ":{address:"강원특별자치도 고성군 현내면 통일전망대로 369",addressEn:"369 Tongiljeonmang-daero, Hyeonnae-myeon, Goseong-gun, Gangwon-do",rating:4,reviews:150},ChIJod7tSseifDUR9hXHLFNGMIs:{address:"서울특별시 종로구 사직로 161",addressEn:"161 Sajik-ro, Jongno-gu, Seoul",rating:4.7,reviews:3200},"ChIJowJoU8-jfDUR42Jhv2tmlL0":{address:"서울특별시 중구 세종대로 40",addressEn:"40 Sejong-daero, Jung-gu, Seoul",rating:4.5,reviews:1200},ChIJ4wh0zluifDURaFBW2pdrKf8:{address:"서울특별시 종로구 율곡로 99",addressEn:"99 Yulgok-ro, Jongno-gu, Seoul",rating:4.6,reviews:2100},"ChIJz7ocWtiifDURU-HmRwLa3yQ":{address:"서울특별시 종로구 종로 157 종묘관리소",addressEn:"157 Jongno, Jongno-gu, Seoul",rating:4.4,reviews:890},ChIJMcWZMY2ifDUR2NLv8F3Togc:{address:"서울특별시 중구 세종대로 99",addressEn:"99 Sejong-daero, Jung-gu, Seoul",rating:4.3,reviews:680}};let ce=["/hero/n서울.jpg","/hero/경복궁.jpg","/hero/여행사진.jpg"];function ge(){const{t:t,i18n:a}=m(),s=r(),[o,n]=e.useState(null),[i,l]=e.useState(!1),[d,c]=e.useState(0),[g,u]=e.useState(0),[h,p]=e.useState(ce),x=e.useRef(null),[y,f]=e.useState({}),[b,v]=e.useState(!1);e.useEffect(()=>{c(e=>e+1)},[a.language]),e.useEffect(()=>{const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("animate-fade-in-on-scroll"),e.target.classList.add("animate-slide-up-on-scroll"),e.target.classList.add("animate-fade-in-up-on-scroll"))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"}),t=document.getElementById("k-culture-section");if(t){const a=t.querySelector("h2"),r=t.querySelector("p"),s=t.querySelectorAll(".group");a&&e.observe(a),r&&e.observe(r),s.forEach(t=>e.observe(t))}return()=>{e.disconnect()}},[d]),e.useEffect(()=>{fetch("/hero/manifest.json").then(e=>e.json()).then(e=>{if(Array.isArray(e)&&e.length>0){const t=e.map(e=>`/hero/${e}`);p(t)}}).catch(()=>{})},[]);const w=()=>{null!==x.current&&(clearInterval(x.current),x.current=null)};e.useEffect(()=>(w(),h.length&&(x.current=window.setInterval(()=>{u(e=>(e+1)%h.length)},8e3)),()=>w()),[h.length]);const j=[{id:"historical-sites",title:t("historicalSites"),description:t("historicalSitesDescription"),spots:[{id:"ChIJod7tSseifDUR9hXHLFNGMIs",name:t("gyeongbokgung"),description:t("gyeongbokgungDesc"),address:"서울특별시 종로구 사직로 161",lat:37.58,lng:126.98,category:"movie",featured:"Royal Palace",image:"/places/경복궁.png",estimatedTime:120,tips:["수문장 교대식 관람","근정전과 경회루 필수 방문","한복 체험 가능"]},{id:"ChIJowJoU8-jfDUR42Jhv2tmlL0",name:t("sungnyemun"),description:t("sungnyemunDesc"),address:"대한민국 서울특별시 중구 세종대로 40",lat:37.56,lng:126.98,category:"movie",featured:"City Gate",image:"/places/숭례문.png",estimatedTime:60,tips:["조선왕조의 4대문 중 하나","국보 제1호","야간 조명이 아름다움"]},{id:"ChIJ4wh0zluifDURaFBW2pdrKf8",name:t("changdeokgung"),description:t("changdeokgungDesc"),address:"대한민국 서울특별시 종로구 율곡로 99",lat:37.58,lng:126.99,category:"movie",featured:"UNESCO Heritage",image:"/places/창덕궁.png",estimatedTime:150,tips:["비원(후원) 투어 필수","유네스코 세계문화유산","조선왕조의 대표 궁궐"]},{id:"ChIJz7ocWtiifDURU-HmRwLa3yQ",name:t("jongmyo"),description:t("jongmyoDesc"),address:"대한민국 서울특별시 종로구 종로 157 종묘관리소",lat:37.57,lng:126.99,category:"movie",featured:"Royal Shrine",image:"/places/종묘.png",estimatedTime:90,tips:["조선왕조의 사당","제례악 공연 관람","유네스코 세계문화유산"]},{id:"ChIJMcWZMY2ifDUR2NLv8F3Togc",name:t("deoksugung"),description:t("deoksugungDesc"),address:"대한민국 서울특별시 중구 세종대로 99",lat:37.56,lng:126.97,category:"movie",featured:"Imperial Palace",image:"/places/덕수궁.png",estimatedTime:90,tips:["대한제국 황궁","근대사 체험","돌담길 산책"]}]},{id:"kpop-demon-hunters",title:t("kpopDemonHunters"),description:t("kpopDemonHuntersDescription"),spots:[{id:"ChIJdfT6qFulfDURzJT-qKKTqtM",name:t("coexKpopPlaza"),description:t("coexKpopPlazaDesc"),address:"대한민국 서울특별시 강남구 영동대로 513",lat:37.51,lng:127.06,category:"movie",featured:"K-POP Movie",image:"/places/코엑스.png",estimatedTime:90,tips:["스타필드 별마당 도서관과 함께 방문","서울 최대 규모 쇼핑몰 체험"]},{id:"ChIJ6RPSci2jfDURXTSdf7JjYp8",name:t("naksanPark"),description:t("naksanParkDesc"),address:"대한민국 서울특별시 종로구 낙산길 41",lat:37.58,lng:126.99,category:"movie",featured:"K-POP Movie",image:"/places/낙산공원.png",estimatedTime:120,tips:["24시간 개방","동대문 성곽과 DDP 근처","과거와 현재가 공존하는 감성"]},{id:"ChIJ1Y4dnPWkfDUR5DNjpoAGbUU",name:t("cheongdamBridge"),description:t("cheongdamBridgeDesc"),address:"대한민국 서울특별시 광진구 자양동",lat:37.52,lng:127.06,category:"movie",featured:"K-POP Movie",image:"/places/청담대교.png",estimatedTime:60,tips:["7호선 자양역에서 하차","뚝섬한강공원으로 연결","Takedown 노래 장면 체험"]},{id:"ChIJqWqOqFeifDURpYJ5LnxX-Fw",name:t("nSeoulTower"),description:t("nSeoulTowerDesc"),address:"서울특별시 용산구 남산공원길 105",lat:37.5512,lng:126.9882,category:"movie",featured:"K-POP Movie",image:"/places/N서울타워.jpg",estimatedTime:90,tips:["국립중앙박물관에서 타워 전망","현대와 역사 건축물의 조화"]},{id:"ChIJzdyah1CkfDURaH-M8oS9AXc",name:t("jamsilOlympicStadium"),description:t("jamsilOlympicStadiumDesc"),address:"대한민국 서울특별시 송파구 올림픽로 25",lat:37.52,lng:127.12,category:"movie",featured:"K-POP Movie",image:"/places/올림픽.jpg",estimatedTime:90,tips:["1988년 서울올림픽 유산","K-POP 공연장의 아이콘","How It's Done 데뷔 무대 장소"]},{id:"ChIJXz2vx_GifDURImd3aTJZ1VA",name:t("myeongdongStreet"),description:t("myeongdongStreetDesc"),address:"대한민국 서울특별시 중구 명동2가",lat:37.56,lng:126.98,category:"movie",featured:"K-POP Movie",image:"/places/명동거리.jpg",estimatedTime:120,tips:["라이브공연과 쇼핑","활기찬 서울의 분위기","네온사인과 번화한 거리"]}]},{id:"kpop-mv-locations",title:t("kpopMvLocations"),description:t("kpopMvLocationsDescription"),spots:[{id:"ChIJufY8c6pDDDURw6IIswavqFk",name:t("jejuSagyeBeach"),description:t("jejuSagyeBeachDesc"),address:"대한민국 제주특별자치도 서귀포시 안덕면 사계리 131-8",lat:33.24,lng:126.4,category:"music",featured:"BTS For You",image:"/places/경포대해변.png",estimatedTime:120,tips:["일몰 시간대 방문 추천","BTS 팬들의 성지 순례","한라산과 바다의 조화 감상"]},{id:"ChIJGVQOXbd3ezURbRuEUgEqcAY",name:t("incheonSongdoTribowl"),description:t("incheonSongdoTribowlDesc"),address:"대한민국 인천광역시 연수구 송도동 24-6",lat:37.39,lng:126.65,category:"music",featured:"EXO Miracles in December",image:"/places/트라이보울.png",estimatedTime:90,tips:["야간 조명이 아름다움","미래형 건축물 감상","송도 센트럴파크와 함께 방문"]},{id:"ChIJT8H4r9qifDURmuXJ_6m6vM0",name:t("seoulBukchonHanok"),description:t("seoulBukchonHanokDesc"),address:"대한민국 서울특별시 종로구 계동길",lat:37.58,lng:126.98,category:"music",featured:"IU Through the Night",image:"/places/한옥마을.png",estimatedTime:120,tips:["한복 체험 가능","전통 한옥 건축 감상","조용한 시간대 방문 추천"]},{id:"ChIJA8nY8ExPZjURPC-8kcf4l4E",name:t("gyeongjuHwanglidan"),description:t("gyeongjuHwanglidanDesc"),address:"대한민국 경상북도 경주시 황남동 포석로 일대",lat:35.85,lng:129.2,category:"music",featured:"SEVENTEEN Darl+ing",image:"/places/황리단길.png",estimatedTime:150,tips:["카페 투어 추천","셀프 포토존 활용","전통과 현대의 조화 체험"]},{id:"ChIJ5bPrXKbmYTURdcro_j76LSM",name:t("gangneungGyeongpoBeach"),description:t("gangneungGyeongpoBeachDesc"),address:"대한민국 강원특별자치도 동해시 강문동 경포대 해변",lat:37.8,lng:128.9,category:"music",featured:"Taeyeon Four Seasons",image:"/places/경포대해변.png",estimatedTime:180,tips:["사계절 다양한 색감","일출/일몰 감상","동해 바다의 아름다움"]}]},{id:"dmz-history",title:t("dmzHistory"),description:t("dmzHistoryDescription"),spots:[{id:"ChIJS3Dv5fXzfDURj3FHEIScjWk",name:t("thirdTunnelName"),description:t("thirdTunnelDesc"),address:"경기도 파주시 군내면 점원리 산167-1",lat:37.9167,lng:126.7167,category:"movie",featured:"DMZ",image:"/places/제3땅굴.jpg",estimatedTime:60,tips:[]},{id:"ChIJA7KB6y3yfDURotGEP4eJ8qE",name:t("imjingakName"),description:t("imjingak"),address:"경기도 파주시 문산읍 임진각로 148-40",lat:37.8922482,lng:126.7430603,category:"movie",featured:"DMZ",image:"/places/임진각.jpg",estimatedTime:90,tips:[]},{id:"ChIJ4-IaFvvzfDURGc9rCXvxR-M",name:t("dorasanName"),description:t("dorasan"),address:"경기도 파주시 장단면 제3땅굴로 310",lat:37.9167,lng:126.7167,category:"movie",featured:"DMZ",image:"/places/도라전망대.jpg",estimatedTime:60,tips:[]},{id:"ChIJzbchvDdR2F8Rg8djTNec-Yk",name:t("goseongTowerName"),description:t("goseongTower"),address:"강원특별자치도 고성군 현내면 금강산로 481",lat:38.3333,lng:128.5,category:"movie",featured:"DMZ",image:"/places/고성통일전망타워.png",estimatedTime:60,tips:[]},{id:"ChIJ0yFnY9BW2F8Rio-wXDrXqCQ",name:t("dmzMuseumName"),description:t("dmzMuseum"),address:"강원특별자치도 고성군 현내면 통일전망대로 369",lat:37.8925,lng:126.7175,category:"movie",featured:"DMZ",image:"/places/DMZ박물관.jpg",estimatedTime:45,tips:[]}]},{id:"traditional-market",title:t("traditionalMarket"),description:t("traditionalMarketDescription"),spots:[{id:"ChIJm3V0fu2ifDURRJ8IMUijVtY",name:t("gwangjangMarketName"),description:t("gwangjangMarket"),address:"서울특별시 종로구 창경궁로 88",lat:37.57,lng:126.99,category:"movie",featured:"Market",image:"/places/광장시장.jpg",estimatedTime:60,tips:[]},{id:"ChIJfYjlFvWifDURYSDsoxYbN80",name:t("namdaemunMarketName"),description:t("namdaemunMarket"),address:"서울특별시 중구 남대문시장4길 21",lat:37.56,lng:126.98,category:"movie",featured:"Market",image:"/places/남대문시장.jpg",estimatedTime:60,tips:[]},{id:"ChIJYxd6fL6ifDURy7wm894BUcQ",name:t("tonginMarketName"),description:t("tonginMarket"),address:"서울특별시 종로구 자하문로15길 18",lat:37.58,lng:126.97,category:"movie",featured:"Market",image:"/places/통인시장.jpg",estimatedTime:45,tips:[]},{id:"ChIJA6gxryiZfDURJvmbeBvdz_Y",name:t("mangwonMarketName"),description:t("mangwonMarket"),address:"서울특별시 마포구 포은로6길 27",lat:37.55,lng:126.9,category:"movie",featured:"Market",image:"/places/망원시장.png",estimatedTime:45,tips:[]},{id:"ChIJOTEaKmiffDURNTst1Jzcm_c",name:t("noryangjinMarketName"),description:t("noryangjinMarket"),address:"서울특별시 동작구 노들로 674",lat:37.51,lng:126.94,category:"movie",featured:"Market",image:"/places/노량진수산물도매시장.jpg",estimatedTime:60,tips:[]}]},{id:"esports-tour",title:t("esports"),description:t("esportsDescription"),spots:[{id:"ChIJny4XAzCjfDURddP-mnc3F5I",name:t("lolParkName"),description:t("lolPark"),address:"서울특별시 종로구 종로 33",lat:37.57,lng:126.978,category:"variety",featured:"eSports",image:"/places/롤파크.jpg",estimatedTime:90,tips:[]},{id:"ChIJtVrU7smZfDURaQp3BkxFjr0",name:t("esportsHallName"),description:t("esportsHall"),address:"서울특별시 마포구 매봉산로 31 에스플렉스센터",lat:37.55,lng:126.95,category:"variety",featured:"eSports",image:"/places/이스포츠 명예의 전당.jpg",estimatedTime:60,tips:[]},{id:"ChIJtyNIIwCffDUR6t9TVxQRkKo",name:t("netmarbleMuseumName"),description:t("netmarbleMuseum"),address:"서울특별시 구로구 디지털로26길 38",lat:37.48,lng:126.89,category:"variety",featured:"eSports",image:"/places/넷마블 게임 박물관.jpg",estimatedTime:60,tips:[]},{id:"ChIJr5vJBJqlfDUREEiXKv7g0Lk",name:t("t1BuildingName"),description:t("t1Building"),address:"서울특별시 강남구 선릉로 627",lat:37.52,lng:127.04,category:"variety",featured:"eSports",image:"/places/T1 사옥.jpg",estimatedTime:60,tips:[]},{id:"ChIJeYgyHHSRezUR_2jZaVUIaBE",name:t("inspireArenaName"),description:t("inspireArena"),address:"인천광역시 중구 공항문화로 127",lat:37.45,lng:126.45,category:"variety",featured:"eSports",image:"/places/인스파이어 아레나.jpg",estimatedTime:90,tips:[]},{id:"ChIJ_xCS_d-jfDURgqxl66H3dd8",name:t("hikrGroundName"),description:t("hikrGround"),address:"서울특별시 중구 청계천로 40",lat:37.57,lng:126.98,category:"variety",featured:"eSports",image:"/places/하이커 그라운드.jpg",estimatedTime:60,tips:[]}]},{id:"seoul-skyline",title:t("seoulSkyline"),description:t("seoulSkylineDescription"),spots:[{id:"ChIJqWqOqFeifDURpYJ5LnxX-Fw",name:t("nSeoulTowerSkylineName"),description:t("nSeoulTowerSkylineDesc"),address:"서울특별시 용산구 남산공원길 105",lat:37.5512,lng:126.9882,category:"movie",featured:"Skyline",image:"/places/N서울타워.jpg",estimatedTime:90,tips:["국립중앙박물관에서 타워 전망","현대와 역사 건축물의 조화"]},{id:"ChIJW2ZfkQqlfDUR4vz9Xs0Q66s",name:t("lotteWorldTowerName"),description:t("lotteWorldTower"),address:"서울특별시 송파구 올림픽로 300",lat:37.5125,lng:127.1025,category:"movie",featured:"Skyline",image:"/places/롯데월드타워.jpg",estimatedTime:90,tips:[]},{id:"ChIJn_UiGDyffDURWfZBRKwb5YE",name:t("square63Name"),description:t("sixtyThreeSquare"),address:"서울특별시 영등포구 63로 50",lat:37.52,lng:126.94,category:"movie",featured:"Skyline",image:"/places/63스퀘어.jpg",estimatedTime:90,tips:[]},{id:"ChIJLzszLIChfDURhVOQTkJ62oA",name:t("sebitIslandName"),description:t("sebitIsland"),address:"서울특별시 서초구 올림픽대로 2085-14",lat:37.52,lng:127,category:"movie",featured:"Skyline",image:"/places/세빛섬.jpg",estimatedTime:60,tips:[]},{id:"ChIJN2x0fu2ifDURheJ4-U3YaAA",name:t("bukhanMountainName"),description:t("bukhansanPark"),address:"서울특별시 성북구 보국문로 262",lat:37.72,lng:126.98,category:"movie",featured:"Skyline",image:"/places/북한산국립공원.jpg",estimatedTime:120,tips:[]}]},{id:"korean-mountains",title:t("koreanMountains"),description:t("koreanMountainsDescription"),spots:[{id:"ChIJ01rMH2ij2F8RftWPpRMs3kc",name:t("seorakMountainName"),description:t("seoraksan"),address:"강원도 속초시 설악산로 833",lat:38.1217,lng:128.4656,category:"variety",featured:"Mountains",image:"/places/설악산.jpg",estimatedTime:300,tips:["가을 단풍 시즌 최고의 명산","울산바위와 권금성 필수 방문"]},{id:"ChIJXw508rQ3bjURk6aL3D1mbsg",name:t("jiriMountainName"),description:t("jirisan"),address:"경상남도 하동군 화개면 대성리",lat:35.3333,lng:127.7167,category:"variety",featured:"Mountains",image:"/places/지리산.jpg",estimatedTime:480,tips:["장거리 종주 코스 or 단거리 하동·구례 코스 선택 가능","천왕봉 일출 명소"]},{id:"ChIJA9hkSe_4DDURXkdwHzTjZlk",name:t("hallaMountainName"),description:t("hallasan"),address:"제주특별자치도 제주시 1100로 2070-61",lat:33.3617,lng:126.5292,category:"variety",featured:"Mountains",image:"/places/한라산.jpg",estimatedTime:360,tips:["겨울 설경 + 봄 철쭉 시즌 필수 방문","백록담 분화구 호수 체험"]},{id:"ChIJN2x0fu2ifDURheJ4-U3YaAA",name:t("bukhanMountainName"),description:t("bukhansan"),address:"서울특별시 성북구 보국문로 262",lat:37.7,lng:126.98,category:"variety",featured:"Mountains",image:"/places/북한산.jpg",estimatedTime:180,tips:["북한산성 입구 코스 추천 (2~3시간)","서울 시내 접근성 최고"]},{id:"ChIJx2Obgg_zcTURObfo-XgmMQU",name:t("mudungMountainName"),description:t("mudungsan"),address:"광주광역시 북구 무등로 1550",lat:35.1333,lng:126.9833,category:"variety",featured:"Mountains",image:"/places/무등산.jpg",estimatedTime:240,tips:["일출·야경 포인트","광주 시내와 가까움","입석대 천연 암석기둥 체험"]}]},{id:"coming-soon",title:t("comingSoon"),description:t("comingSoonDescription"),spots:[]}];return k.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[k.jsx(ie,{}),k.jsxs("div",{className:"relative min-h-[60vh] md:min-h-[80vh] overflow-hidden",children:[h.map((e,t)=>k.jsx("div",{className:"absolute inset-0 bg-cover transition-opacity duration-1000 "+(t===g?"opacity-100":"opacity-0"),style:{backgroundImage:`url(${e})`,backgroundPosition:"center 60%"}},t)),k.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 via-black/10 to-transparent"}),k.jsx("div",{className:"relative z-10 container-xl flex min-h-[60vh] md:min-h-[80vh] items-end pb-8 md:pb-12",children:k.jsxs("div",{className:"max-w-2xl",children:[k.jsx("h1",{className:"text-white text-4xl md:text-5xl lg:text-6xl font-extrabold drop-shadow-lg mb-2",children:t("mainTitle")}),k.jsx("p",{className:"text-white text-lg md:text-xl drop-shadow-md",children:t("mainSubtitle")})]})})]}),k.jsxs("div",{className:"container mx-auto px-4 py-16 relative dark:bg-gray-800",id:"k-culture-section",children:[k.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[k.jsx("div",{className:"absolute top-10 left-10 w-20 h-20 bg-gradient-to-r from-cyan-400 to-blue-400 rounded-full opacity-20 animate-pulse"}),k.jsx("div",{className:"absolute top-32 right-20 w-16 h-16 bg-gradient-to-r from-teal-400 to-emerald-400 rounded-full opacity-30 animate-bounce"}),k.jsx("div",{className:"absolute bottom-20 left-1/4 w-12 h-12 bg-gradient-to-r from-sky-400 to-indigo-400 rounded-full opacity-25 animate-ping"})]}),k.jsxs("div",{className:"text-center mb-16 relative z-10",children:[k.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-6",children:t("kCulture")}),k.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-200 max-w-2xl mx-auto leading-relaxed",children:t("kCultureDescription")})]}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 relative z-10",children:j.map((e,t)=>k.jsxs("div",{className:"group relative bg-white dark:bg-gray-700 rounded-2xl shadow-2xl overflow-hidden hover:shadow-3xl transition-all duration-700 flex flex-col h-full cursor-pointer transform hover:-translate-y-2 hover:scale-[1.04] opacity-0 animate-fade-in-up-on-scroll card-tilt",onClick:()=>(e=>{n(e),l(!0),e.spots.length>0&&(v(!0),setTimeout(()=>{const t={};e.spots.forEach(e=>{t[e.id]=de[e.id]||null}),f(t),v(!1)},500))})(e),style:{animationDelay:200*t+"ms"},children:[k.jsx("div",{className:"animated-gradient-border"}),k.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/20 via-blue-500/20 to-indigo-500/20 opacity-0 group-hover:opacity-100 transition-opacity duration-500 z-10"}),k.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/30 via-blue-400/30 to-indigo-400/30 opacity-0 group-hover:opacity-100 blur-xl transition-all duration-500 -z-10",style:{animation:"glowPulse 3s ease-in-out infinite"}}),k.jsxs("div",{className:"h-56 relative overflow-hidden",style:{perspective:"1000px"},children:[k.jsx("img",{src:"kpop-demon-hunters"===e.id?"/places/KPOPDEMON.png":"coming-soon"===e.id?"/places/soon.png":e.spots[0]?.image||"/places/경복궁.png",alt:e.spots[0]?.name||e.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110 "+("kpop-demon-hunters"===e.id?"object-bottom":""),onError:e=>{e.currentTarget.src="/places/경복궁.png"}}),k.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),k.jsx("div",{className:"shine-overlay"})]}),k.jsxs("div",{className:"p-4 flex flex-col flex-1 relative z-20",children:[k.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-gray-200 mb-2 group-hover:text-cyan-600 transition-colors duration-300",children:e.title}),k.jsx("p",{className:"text-gray-600 dark:text-white mb-3 line-clamp-2 group-hover:text-gray-700 dark:group-hover:text-gray-200 transition-colors duration-300 text-sm",children:e.description})]})]},`${e.id}-${d}`))})]}),i&&o&&k.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-[100]",children:k.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-6xl w-full max-h-[95vh] min-h-[80vh] flex flex-col shadow-2xl animate-in fade-in-0 zoom-in-95 duration-300",children:[k.jsxs("div",{className:"bg-gradient-to-br from-blue-500 via-sky-500 to-cyan-500 p-6 sm:p-8 md:p-10 lg:p-12 text-white rounded-t-2xl overflow-hidden min-h-[200px] flex flex-col justify-start pt-8",children:[k.jsx("div",{className:"bg-gradient-to-r from-white/20 via-white/10 to-transparent"}),k.jsx("div",{className:"bg-gradient-to-b from-transparent via-white/5 to-white/20"}),k.jsxs("div",{className:"relative",children:[k.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:k.jsxs("div",{className:"flex-1 w-full",children:[k.jsx("h3",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-3 sm:mb-4 bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent leading-tight",children:o.title}),k.jsx("p",{className:"text-white/90 text-base sm:text-lg md:text-xl leading-relaxed max-w-2xl mb-2",children:o.description})]})}),k.jsx("button",{onClick:()=>l(!1),className:"absolute -top-2 -right-2 p-2 sm:p-3 hover:bg-white/20 rounded-full transition-all duration-300 hover:scale-110 backdrop-blur-sm",children:k.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),k.jsx("div",{className:"flex-1 overflow-y-auto",children:k.jsxs("div",{className:"p-8",children:[k.jsxs("div",{className:"mb-8",children:[k.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[k.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full"}),k.jsx("h4",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t("themeRecommendation")})]}),k.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:o.spots.map((e,r)=>k.jsx("button",{className:"group text-left border-2 border-gray-200 dark:border-gray-600 rounded-2xl overflow-hidden hover:border-purple-300 hover:shadow-xl transition-all duration-300 bg-white dark:bg-gray-700 transform hover:-translate-y-2",onClick:()=>(e=>{s(`/places/${e.id}`)})(e),children:k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[180px_1fr] gap-6 p-6",children:[k.jsxs("div",{className:"relative w-full h-48 md:w-45 md:h-36 rounded-xl overflow-hidden bg-gray-100 group-hover:scale-105 transition-transform duration-300",children:[k.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"}),k.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),k.jsxs("div",{className:"space-y-3 md:space-y-3 space-y-4",children:[k.jsx("div",{className:"flex items-start justify-between",children:k.jsx("h5",{className:"font-bold text-xl text-gray-900 dark:text-gray-100 group-hover:text-purple-600 transition-colors",children:e.name})}),k.jsx("p",{className:"text-gray-600 dark:text-white group-hover:text-gray-700 dark:group-hover:text-gray-200 transition-colors",children:e.description}),y[e.id]&&k.jsxs("div",{className:"space-y-2",children:[y[e.id]?.address&&k.jsxs("div",{className:"flex items-start gap-2",children:[k.jsxs("svg",{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),k.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a.language.startsWith("en")&&y[e.id]?.addressEn||y[e.id]?.address})]}),y[e.id]?.rating&&k.jsx("div",{className:"flex items-center gap-2",children:k.jsxs("div",{className:"flex items-center",children:[k.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:k.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),k.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 ml-1",children:y[e.id]?.rating?.toFixed(1)}),y[e.id]?.reviews&&k.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 ml-1",children:["(",y[e.id]?.reviews," ",t("reviews"),")"]})]})})]}),b&&k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),k.jsx("span",{className:"text-sm text-gray-500",children:t("loadingPlaceInfo")})]})]})]})},e.id))})]}),k.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-200",children:k.jsxs("button",{onClick:()=>{l(!1),f({}),v(!1)},className:"group flex items-center gap-2 px-8 py-3 bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-xl hover:from-gray-600 hover:to-gray-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1 font-semibold",children:[k.jsx("svg",{className:"w-5 h-5 group-hover:rotate-180 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),t("close")]})})]})})]})}),k.jsx(le,{})]})}function me({title:t,subtitle:a,imageUrl:r,className:s=""}){const[o,n]=e.useState(["/hero/n서울.jpg","/hero/경복궁.jpg","/hero/여행사진.jpg"]),[i,l]=e.useState(0),d=e.useRef(null);e.useEffect(()=>{fetch("/hero/manifest.json").then(e=>e.json()).then(e=>{if(Array.isArray(e)&&e.length>0){const t=e.map(e=>`/hero/${e}`);n(t)}}).catch(()=>{})},[]);const c=e.useCallback(()=>{d.current&&window.clearInterval(d.current),d.current=window.setInterval(()=>{l(e=>(e+1)%(o.length||1))},8e3)},[o.length]);return e.useEffect(()=>(c(),()=>{d.current&&window.clearInterval(d.current)}),[c]),k.jsxs("div",{className:`relative min-h-[60vh] md:min-h-[80vh] overflow-hidden ${s}`,children:[o.map((e,t)=>k.jsx("div",{className:"absolute inset-0 bg-cover transition-opacity duration-1000 "+(t===i?"opacity-100":"opacity-0"),style:{backgroundImage:`url(${e})`,backgroundPosition:"center 60%"}},t)),k.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 via-black/10 to-transparent"}),k.jsx("div",{className:"relative z-10 container-xl flex min-h-[60vh] md:min-h-[80vh] items-end pb-8 md:pb-12",children:k.jsxs("div",{className:"max-w-2xl",children:[k.jsx("h1",{className:"text-white text-4xl md:text-5xl lg:text-6xl font-extrabold drop-shadow-lg mb-2",children:t}),a&&k.jsx("p",{className:"text-white text-lg md:text-xl drop-shadow-md",children:a})]})})]})}const ue=["전국","서울","부산","대구","인천","광주","대전","울산","세종","경기","강원","충북","충남","전북","전남","경북","경남","제주"],he=e.memo(function({onPick:t,current:a="전국"}){const{t:r}=m(),[s,o]=e.useState(!1),[n,i]=e.useState(!1),[l,d]=e.useState(!1),c=e.useRef(null),g=e.useRef(0),u=e.useRef(0);e.useEffect(()=>{const e=()=>{if(c.current){const{scrollWidth:e,clientWidth:t}=c.current;o(e>t)}};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const h=e.useCallback(e=>{c.current&&(i(!0),g.current=e.pageX-c.current.offsetLeft,u.current=c.current.scrollLeft,c.current.style.cursor="grabbing",c.current.style.userSelect="none")},[]),p=e.useCallback(e=>{if(!n||!c.current)return;e.preventDefault();const t=2*(e.pageX-c.current.offsetLeft-g.current);c.current.scrollLeft=u.current-t},[n]),x=e.useCallback(()=>{c.current&&(i(!1),c.current.style.cursor="grab",c.current.style.userSelect="auto")},[]),y=e.useCallback(()=>{c.current&&(i(!1),c.current.style.cursor="grab",c.current.style.userSelect="auto")},[]),f=e.useCallback(e=>{c.current&&(g.current=e.touches[0].pageX-c.current.offsetLeft,u.current=c.current.scrollLeft)},[]),b=e.useCallback(e=>{if(!c.current)return;const t=2*(e.touches[0].pageX-c.current.offsetLeft-g.current);c.current.scrollLeft=u.current-t},[]);return k.jsxs("section",{className:"mb-6",children:[k.jsx("div",{className:"hidden lg:block",children:k.jsx("div",{className:"grid grid-cols-6 xl:grid-cols-9 gap-3 px-4 py-2",children:ue.map(e=>{const s=(a||"전국")===e;return k.jsxs("button",{onClick:()=>t(e),className:`\n                  relative px-4 py-2 rounded-full border-2 \n                  whitespace-nowrap transition-all duration-300 font-medium \n                  text-sm overflow-hidden group\n                  ${s?"bg-gradient-to-r from-blue-500 via-blue-600 to-indigo-600 text-white border-blue-500 shadow-lg shadow-blue-200/50 hover:shadow-xl hover:shadow-blue-300/60 transform scale-105 ring-2 ring-blue-200/50":"bg-white dark:bg-slate-800 hover:bg-gradient-to-r hover:from-blue-50 hover:via-indigo-50 hover:to-purple-50 dark:hover:from-slate-700 dark:hover:to-slate-600 border-gray-200 dark:border-slate-600 hover:border-blue-400 dark:hover:border-blue-400 hover:text-blue-700 dark:hover:text-blue-200 hover:shadow-lg hover:shadow-blue-100/50 dark:hover:shadow-slate-700/50 hover:transform hover:scale-105 text-gray-700 dark:text-slate-300"}\n                `,children:[s&&k.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse rounded-full"}),k.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-full"}),k.jsx("span",{className:"relative z-10 block truncate",children:r(`region.${e}`)})]},e)})})}),k.jsx("div",{className:"hidden md:block lg:hidden",children:k.jsx("div",{className:"grid grid-cols-4 gap-2 px-4 py-2",children:ue.map(e=>{const s=(a||"전국")===e;return k.jsxs("button",{onClick:()=>t(e),className:`\n                  relative px-3 py-2 rounded-full border-2 \n                  whitespace-nowrap transition-all duration-300 font-medium \n                  text-sm overflow-hidden group\n                  ${s?"bg-gradient-to-r from-blue-500 via-blue-600 to-indigo-600 text-white border-blue-500 shadow-lg shadow-blue-200/50 hover:shadow-xl hover:shadow-blue-300/60 transform scale-105 ring-2 ring-blue-200/50":"bg-white dark:bg-slate-800 hover:bg-gradient-to-r hover:from-blue-50 hover:via-indigo-50 hover:to-purple-50 dark:hover:from-slate-700 dark:hover:to-slate-600 border-gray-200 dark:border-slate-600 hover:border-blue-400 dark:hover:border-blue-400 hover:text-blue-700 dark:hover:text-blue-200 hover:shadow-lg hover:shadow-blue-100/50 dark:hover:shadow-slate-700/50 hover:transform hover:scale-105 text-gray-700 dark:text-slate-300"}\n                `,children:[s&&k.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse rounded-full"}),k.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-full"}),k.jsx("span",{className:"relative z-10 block truncate",children:r(`region.${e}`)})]},e)})})}),k.jsxs("div",{className:"block md:hidden",children:[k.jsx("div",{ref:c,className:"flex gap-2 px-4 py-2 overflow-x-auto scrollbar-hide cursor-grab active:cursor-grabbing "+(l?"flex-wrap":""),style:{scrollbarWidth:"none",msOverflowStyle:"none"},onMouseDown:h,onMouseMove:p,onMouseUp:x,onMouseLeave:y,onTouchStart:f,onTouchMove:b,children:ue.map(e=>{const s=(a||"전국")===e;return k.jsxs("button",{onClick:()=>t(e),className:`\n                  relative flex-shrink-0 px-4 py-2 rounded-full border-2 \n                  whitespace-nowrap transition-all duration-300 font-medium \n                  text-sm overflow-hidden group\n                  ${s?"bg-gradient-to-r from-blue-500 via-blue-600 to-indigo-600 text-white border-blue-500 shadow-lg shadow-blue-200/50 hover:shadow-xl hover:shadow-blue-300/60 transform scale-105 ring-2 ring-blue-200/50":"bg-white dark:bg-slate-800 hover:bg-gradient-to-r hover:from-blue-50 hover:via-indigo-50 hover:to-purple-50 dark:hover:from-slate-700 dark:hover:to-slate-600 border-gray-200 dark:border-slate-600 hover:border-blue-400 dark:hover:border-blue-400 hover:text-blue-700 dark:hover:text-blue-200 hover:shadow-lg hover:shadow-blue-100/50 dark:hover:shadow-slate-700/50 hover:transform hover:scale-105 text-gray-700 dark:text-slate-300"}\n                `,children:[s&&k.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse rounded-full"}),k.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-full"}),k.jsx("span",{className:"relative z-10 block",children:r(`region.${e}`)})]},e)})}),k.jsx("div",{className:"flex justify-center mt-2",children:k.jsx("button",{onClick:()=>d(!l),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-full text-sm font-medium text-gray-700 dark:text-gray-300 transition-colors",children:l?k.jsxs(k.Fragment,{children:[k.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),r("collapseList")]}):k.jsxs(k.Fragment,{children:[k.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),r("expandList")]})})})]})]})}),pe=new Map,xe=new Map,ye=200,fe=100,be=10,ve=36e5,we=200,ke=2,je=500,Ne=5e3,Se=new Map;let Ce=0,De=Date.now();function Te(e,t){Se.set(e,{data:t,timestamp:Date.now(),hits:0}),function(){if(Se.size<=we)return;const e=Array.from(Se.entries());e.sort((e,t)=>e[1].hits-t[1].hits),e.slice(0,Se.size-we).forEach(([e])=>Se.delete(e))}()}function Me(e,t){const a=pe.get(e)||{inProgress:!1,lastCall:0,retryCount:0,errorCount:0};pe.set(e,{...a,...t})}function Ie(e){return new Promise(t=>setTimeout(t,e))}class Le{baseUrl;constructor(e){this.baseUrl=e||"https://hello-korea.link"}async get(e,t={}){return this.request(e,{...t,method:"GET"})}async post(e,t,a={}){return this.request(e,{...a,method:"POST",headers:{"Content-Type":"application/json",...a.headers},body:t?JSON.stringify(t):void 0})}async put(e,t,a={}){return this.request(e,{...a,method:"PUT",headers:{"Content-Type":"application/json",...a.headers},body:t?JSON.stringify(t):void 0})}async delete(e,t={}){return this.request(e,{...t,method:"DELETE"})}async request(e,t={}){const a=`${this.baseUrl}${e}`,r=`${t.method||"GET"}-${a}-${JSON.stringify(t.body||"")}`,s=function(e){const t=Se.get(e);return t?Date.now()-t.timestamp>ve?(Se.delete(e),null):(t.hits++,t.data):null}(r);if(s)return s;if(xe.has(r))return await xe.get(r);if(!function(e){const t=Date.now();if(t-De>6e4&&(Ce=0,De=t),Ce>=fe)return console.warn(`🚫 Rate limit exceeded for ${e}`),!1;if(Array.from(pe.values()).filter(e=>e.inProgress).length>=be)return console.warn(`🚫 Too many concurrent requests for ${e}`),!1;const a=pe.get(e);return!(a&&t-a.lastCall<ye&&(console.warn(`🚫 Request too frequent for ${e}`),1))}(r))return await Ie(ye),this.request(e,t);const o=this.executeRequest(a,t,r);xe.set(r,o);try{return await o}finally{xe.delete(r)}}async executeRequest(e,t,a){const r=pe.get(a)||{retryCount:0,errorCount:0};Me(a,{inProgress:!0,lastCall:Date.now()}),Ce++;try{const r=new AbortController,s=setTimeout(()=>r.abort(),Ne),o=localStorage.getItem("i18nextLng")||"ko",n=await fetch(e,{...t,signal:r.signal,headers:{"Accept-Language":o,...t.headers}});if(clearTimeout(s),!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);const i=await n.json();return Te(a,i),Me(a,{inProgress:!1,retryCount:0,errorCount:0}),i}catch(s){const o="AbortError"===s.name,n=!s.status;if(Me(a,{inProgress:!1,errorCount:r.errorCount+1}),r.retryCount<ke&&(o||n)){const s=je*Math.pow(2,r.retryCount);return console.warn(`🔄 Retrying ${e} in ${s}ms (${r.retryCount+1}/${ke})`),Me(a,{retryCount:r.retryCount+1}),await Ie(s),this.executeRequest(e,t,a)}throw s}}clearCache(){Se.clear()}getApiStats(){const e=Array.from(pe.values()).filter(e=>e.inProgress).length;return{cacheSize:Se.size,activeRequests:e,requestCount:Ce}}}const Pe=new Le,Ee=new Le,Re="https://hello-korea.link";async function Ae(e){const t=new URLSearchParams;e.q&&t.set("q",e.q),e.lat&&e.lng&&(t.set("lat",String(e.lat)),t.set("lng",String(e.lng))),e.minRating&&t.set("minRating",String(e.minRating)),e.minReviews&&t.set("minReviews",String(e.minReviews)),e.sort&&t.set("sort",e.sort),e.region&&t.set("region",e.region),void 0!==e.onlyTourism&&t.set("onlyTourism",String(e.onlyTourism)),e.page&&t.set("page",String(e.page)),e.limit&&t.set("limit",String(e.limit));const a=(e.language||c.language||"ko").split("-")[0];t.set("language",a);const r="/v1/search"+(t.toString()?`?${t.toString()}`:""),s=await async function(e,t){return await Pe.request(e,t)}(r);if(s?.data&&s?.pagination)return s;return{data:Array.isArray(s)?s:s?.places??[],pagination:null}}const $e={},Ue=e.memo(function({items:t}){const{t:a,i18n:r}=m(),o=r.language.split("-")[0],[n,i]=e.useState(()=>$e[o]||{}),l=e.useRef(null);e.useEffect(()=>{i($e[o]||{})},[o]);const d=e.useMemo(()=>t.slice(0,12),[t]);e.useEffect(()=>{const e=new AbortController;l.current=e;const t=o,a=$e[t]||($e[t]={}),r=d.map(e=>e.id).filter(e=>!a[e]);if(0===r.length)return;const s=r.slice(),n=[],c=async()=>{for(;s.length&&!e.signal.aborted;){const r=s.shift();try{const s=await fetch(`/api/v1/places/${encodeURIComponent(r)}?language=${t}`,{headers:{"Accept-Language":t},signal:e.signal});if(!s.ok)continue;const o=await s.json(),n=o?.displayName?.text||o?.displayName||"";n&&(a[r]=n)}catch{}}};for(let o=0;o<Math.min(4,s.length);o++)n.push(c());return Promise.allSettled(n).then(()=>{e.signal.aborted||i({...a})}),()=>e.abort()},[d,o]);const c=e=>/[\u3131-\u318F\uAC00-\uD7A3]/.test(e);return k.jsx("section",{children:k.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map((e,t)=>{const a=function(e,t,a=600){if(!t)return null;const r=new URLSearchParams;return r.set("name",t),r.set("maxWidthPx",String(a)),`${Re}/v1/places/${encodeURIComponent(e)}/photos/media?${r.toString()}`}(e.id,e.photos?.[0]?.name,600),r=n[(i=e).id]||(i.displayName?.text?i.displayName.text:"en"===o?"No Name":"이름 없음");var i;const l="en"===o?"No Image":"이미지 없음";return(d=r)&&("en"===o?!c(d):"ko"!==o||c(d))?k.jsxs(s,{to:`/places/${encodeURIComponent(e.id)}`,className:"card bg-base-100 shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden cursor-pointer hover:-translate-y-1",children:[k.jsx("figure",{className:"w-full aspect-[5/4] overflow-hidden",children:a?k.jsx("img",{src:a,alt:r,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",loading:t<4?"eager":"lazy",decoding:"async"}):k.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center",children:k.jsx("span",{className:"text-gray-500 text-sm",children:l})})}),k.jsxs("div",{className:"card-body p-4",children:[k.jsx("h3",{className:"card-title text-base font-semibold line-clamp-2 mb-1",children:r}),k.jsx("div",{className:"flex items-center",children:k.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 flex items-center gap-1",children:[k.jsx("span",{className:"text-yellow-500",children:"⭐"}),k.jsx("span",{className:"font-medium text-gray-800",children:e.rating??"-"}),k.jsxs("span",{className:"text-gray-400 dark:text-gray-500",children:["(",e.userRatingCount??0,")"]})]})})]})]},e.id):null;var d})})})});const Oe=Number(3),Je=Number(5);function Fe(){const{t:t}=m(),[a,r]=e.useState("전국"),[s,n]=e.useState([]),[i,l]=e.useState(!0),[d,g]=e.useState(1),[u,h]=e.useState(null),p=o(),x=e.useMemo(()=>new URLSearchParams(p.search).get("q")??"",[p.search]),y=e.useRef(null),f=e.useRef(null),b=async()=>{const e=function(e,t=3e5){if("undefined"==typeof window)return null;try{const a=sessionStorage.getItem(e);if(!a)return null;const{data:r,timestamp:s}=JSON.parse(a);return Date.now()-s>t?(sessionStorage.removeItem(e),null):r}catch{return null}}(`home_${a}_${x}_${c.language}`,3e5);if(e)return n(e.data||[]),h(e.pagination||null),void l(!1);y.current&&(clearTimeout(y.current),y.current=null),y.current=window.setTimeout(async()=>{if(f.current)try{f.current.abort()}catch{}const e=new AbortController;f.current=e,l(!0);try{const e=c.language.split("-")[0],r={q:x||void 0,region:"전국"===a?void 0:a,minRating:Oe,minReviews:Je,sort:"score",onlyTourism:!0,page:d,limit:8,language:e},s=await Ae(r);let o=s.data||[],i=s.pagination;console.log(`[${a}] Loading page ${d}:`,{currentPage:d,totalPages:i?.totalPages,hasNext:i?.hasNext,totalItems:i?.totalItems,itemsInPage:o.length,apiCalls:1});const l=e=>/[\u3131-\u318F\uAC00-\uD7A3]/.test(e),g=e=>e.displayName?.text||"",m=t=>!!t&&("en"===e?!l(t):"ko"!==e||l(t)),u=e=>{const t=!(!e.id||""===e.id.trim());return o.length>0&&0===o.indexOf(e)&&console.log("[DEBUG] First item structure:",{id:e.id,displayName:e.displayName,keys:Object.keys(e)}),t};let p=o.filter(e=>{const t=m(g(e));return t});if(console.log(`[${a}] Initial filtering: ${o.length} -> ${p.length} (lang: ${e})`),"en"===e){const e=o.filter(e=>u(e)).length,t=o.filter(e=>l(g(e))).length,r=o.filter(e=>!l(g(e))).length;console.log(`[${a}] Items with Google API: ${e}/${o.length}`),console.log(`[${a}] Korean names: ${t}, English names: ${r}`),o.length>0&&console.log(`[${a}] First item name: "${g(o[0])}" (hasKorean: ${l(g(o[0]))})`)}let y=(i?.currentPage||d)+1;const f=new Set(o.map(e=>e.id));let b=1;if(p.length<8&&i?.hasNext)try{const e=await Ae({...r,page:y}),t=e.data||[];e.pagination;b+=1;for(const a of t){if(!f.has(a.id)){f.add(a.id);m(g(a))&&p.push(a)}if(p.length>=8)break}console.log(`[${a}] Extra page ${y}: ${t.length} items -> ${p.length} total`)}catch(t){console.warn(`Failed to fetch page ${y}:`,t)}const v=b;if(console.log(`[${a}] Final result: ${p.length} items from ${b} pages (API calls: ${v})`),p.length<8){const e=o.filter(e=>!p.includes(e)).slice(0,8-p.length);p=[...p,...e]}const w={...i,currentPage:d,totalPages:i?.totalPages||1,hasNext:i?.hasNext||!1,totalItems:i?.totalItems||p.length};n(p),h(w)}catch(Lt){"AbortError"!==Lt?.name&&console.error(Lt)}finally{l(!1)}},250)};e.useEffect(()=>(b(),()=>{if(y.current&&clearTimeout(y.current),f.current)try{f.current.abort()}catch{}}),[a,x,d,c.language]),e.useEffect(()=>{g(1)},[a,x]);const v=e.useCallback(e=>{console.log(`[${a}] Page change requested: ${d} -> ${e}`),g(e)},[a,d]),w=e.useCallback(e=>{r(e)},[]);return k.jsxs(k.Fragment,{children:[k.jsx(ie,{}),k.jsx(me,{title:t("nationwideTitle"),subtitle:t("nationwideSubtitle"),imageUrl:"/hero-banner.jpg"}),k.jsx("main",{className:"section dark:bg-gray-900",children:k.jsxs("div",{className:"container-xl",children:[k.jsx(he,{current:a,onPick:w}),k.jsxs("div",{className:"mb-6",children:[k.jsx("h2",{className:"section-title",children:t("popularDestinations")}),k.jsx("p",{className:"section-sub",children:t("nationwideDescription")})]}),i?k.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:Array.from({length:8}).map((e,t)=>k.jsx("div",{className:"card h-48 animate-pulse"},t))}):k.jsxs(k.Fragment,{children:[k.jsx(Ue,{items:s}),u&&u.totalPages>1&&k.jsxs("div",{className:"flex justify-center items-center gap-1 mt-12",children:[k.jsx("button",{className:"px-3 py-2 text-sm font-medium rounded-md border transition-all duration-200 "+(u.hasPrev?"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 hover:border-gray-400":"opacity-50 cursor-not-allowed bg-gray-100 text-gray-400 border-gray-200"),disabled:!u.hasPrev,onClick:()=>v(d-1),children:t("previous")}),k.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,u.totalPages)},(e,t)=>{const a=Math.max(1,d-2)+t;return a>u.totalPages?null:k.jsx("button",{className:"px-3 py-2 text-sm font-medium rounded-md border transition-all duration-200 "+(d===a?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 hover:border-gray-400"),onClick:()=>v(a),children:a},a)})}),k.jsx("button",{className:"px-3 py-2 text-sm font-medium rounded-md border transition-all duration-200 "+(u.hasNext?"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 hover:border-gray-400":"opacity-50 cursor-not-allowed bg-gray-100 text-gray-400 border-gray-200"),disabled:!u.hasNext,onClick:()=>v(d+1),children:t("next")})]})]})]})}),k.jsx(le,{})]})}async function ze(e=1,t=20){const a=localStorage.getItem("vk_token");if(!a)throw new Error("Authentication required");const r=await fetch(`${Z("/v1/likes")}?page=${e}&limit=${t}`,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to fetch likes: ${r.status}`);return r.json()}async function He(e,t,a,r,s){const o=localStorage.getItem("vk_token");if(!o)throw new Error("Authentication required");const n=await fetch(Z("/v1/likes"),{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"},body:JSON.stringify({placeId:e,name:t,address:a,rating:r,tags:s||[]})});if(!n.ok)throw new Error(`Failed to add like: ${n.status}`);return n.json()}async function Be(e){const t=localStorage.getItem("vk_token");if(!t)throw new Error("Authentication required");const a=await fetch(Z(`/v1/likes/${encodeURIComponent(e)}`),{method:"DELETE",headers:{Authorization:`Bearer ${t}`}});if(!a.ok)throw new Error(`Failed to remove like: ${a.status}`);return a.json()}async function _e(e){const t=localStorage.getItem("vk_token");if(!t)throw new Error("Authentication required");const a=await fetch(Z(`/v1/likes/${encodeURIComponent(e)}`),{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok)throw new Error(`Failed to check like status: ${a.status}`);return a.json()}const We=Object.freeze(Object.defineProperty({__proto__:null,addLike:He,checkLikeStatus:_e,getLikes:ze,removeLike:Be},Symbol.toStringTag,{value:"Module"}));const Ge=({isOpen:t,onClose:a,onDateSelect:r,placeName:s})=>{const[o,n]=e.useState(new Date);return t?k.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:k.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-w-md mx-4",children:[k.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-800",children:"📅 스케줄 날짜 선택"}),k.jsx("div",{className:"mb-4",children:k.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[k.jsx("strong",{children:s}),"을(를) 스케줄에 추가할 날짜를 선택해주세요."]})}),k.jsxs("div",{className:"mb-6",children:[k.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"날짜 선택"}),k.jsx("input",{type:"date",value:o.toISOString().split("T")[0],onChange:e=>n(new Date(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:(new Date).toISOString().split("T")[0]})]}),k.jsxs("div",{className:"flex gap-3 justify-end",children:[k.jsx("button",{type:"button",onClick:()=>{a()},className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"취소"}),k.jsx("button",{type:"button",onClick:()=>{r(o),a()},className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md font-medium transition-colors",children:"스케줄 페이지로 이동"})]})]})}):null};const qe="https://hello-korea.link",Ke=new Map;async function Ye(e){const t=e.includes("/v1/")?e.split("/v1/")[1]:e.replace(qe,""),a=t,r=Ke.get(a);if(r&&Date.now()-r.timestamp<18e5)return console.log("🚀 캐시에서 데이터 반환:",t),r.data;await new Promise(e=>setTimeout(e,1e3));try{const e=await Ee.get(`/v1/${t}`);return Ke.set(a,{data:e,timestamp:Date.now()}),console.log("📡 API 호출:",`/v1/${t}`),e}catch(s){throw console.error("❌ API 호출 실패:",t,s),s}}
/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Ve=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Xe=(...e)=>e.filter((e,t,a)=>Boolean(e)&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim(),Ze=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};
/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var Qe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=e.forwardRef(({color:t="currentColor",size:a=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:o="",children:n,iconNode:i,...l},d)=>e.createElement("svg",{ref:d,...Qe,width:a,height:a,stroke:t,strokeWidth:s?24*Number(r)/Number(a):r,className:Xe("lucide",o),...!n&&!Ze(l)&&{"aria-hidden":"true"},...l},[...i.map(([t,a])=>e.createElement(t,a)),...Array.isArray(n)?n:[n]])),tt=(t,a)=>{const r=e.forwardRef(({className:r,...s},o)=>{return e.createElement(et,{ref:o,iconNode:a,className:Xe(`lucide-${n=Ve(t),n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${t}`,r),...s});var n});return r.displayName=Ve(t),r},at=tt("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),rt=tt("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),st=tt("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),ot=tt("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),nt=tt("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),it=tt("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),lt=tt("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),dt=tt("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),ct=tt("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),gt=tt("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),mt=tt("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),ut=tt("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ht=({isOpen:t,onClose:a,tourItem:r})=>{const{t:s}=m(),[o,n]=e.useState(null),[i,l]=e.useState([]),[d,c]=e.useState(!1),[g,u]=e.useState(null);e.useEffect(()=>{t&&r&&(c(!1),u(null),n(null),l([]))},[t,r]);const h=()=>{n(null),l([]),u(null),a()};return t&&r?k.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[k.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:h}),k.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[95vh] overflow-hidden animate-in fade-in-0 zoom-in-95 duration-300",children:[k.jsxs("div",{className:"relative bg-gradient-to-br from-blue-500 via-sky-500 to-cyan-500 p-6 text-white overflow-hidden",children:[k.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 to-transparent"}),k.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white/5 rounded-full -translate-y-10 translate-x-10"}),k.jsx("div",{className:"absolute bottom-0 left-0 w-20 h-20 bg-white/5 rounded-full translate-y-8 -translate-x-8"}),k.jsxs("div",{className:"relative flex items-center justify-between",children:[k.jsxs("div",{children:[k.jsx("h2",{className:"text-3xl font-bold mb-2 text-white",children:r.title}),k.jsxs("div",{className:"flex items-center gap-4 text-white/80",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx(nt,{className:"w-4 h-4"}),k.jsx("span",{className:"text-sm",children:r.addr1})]}),r.tel&&k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx(dt,{className:"w-4 h-4"}),k.jsx("span",{className:"text-sm",children:r.tel})]})]})]}),k.jsx("button",{onClick:h,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:k.jsx(ut,{className:"w-6 h-6"})})]})]}),k.jsx("div",{className:"p-8 overflow-y-auto max-h-[calc(95vh-200px)]",children:k.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[k.jsxs("div",{className:"space-y-6",children:[r.firstimage&&k.jsxs("div",{className:"relative group overflow-hidden rounded-xl",children:[k.jsx("img",{src:r.firstimage,alt:r.title,className:"w-full h-80 object-cover transition-transform duration-300 group-hover:scale-105"}),k.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),k.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6",children:[k.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[k.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),s("detailInfo")]}),k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded-lg shadow-sm",children:[k.jsx(nt,{className:"w-5 h-5 text-blue-500 mt-1 flex-shrink-0"}),k.jsxs("div",{children:[k.jsx("p",{className:"font-semibold text-gray-900",children:s("address")}),k.jsxs("p",{className:"text-gray-600",children:[r.addr1,r.addr2&&` ${r.addr2}`]})]})]}),r.tel&&k.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded-lg shadow-sm",children:[k.jsx(dt,{className:"w-5 h-5 text-green-500 mt-1 flex-shrink-0"}),k.jsxs("div",{children:[k.jsx("p",{className:"font-semibold text-gray-900",children:s("phoneNumber")}),k.jsx("p",{className:"text-gray-600",children:r.tel})]})]})]})]})]}),k.jsxs("div",{className:"space-y-6",children:[k.jsxs("div",{className:"space-y-4",children:[k.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[k.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),s("quickActions")]}),k.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[k.jsxs("button",{onClick:()=>{if(!r)return;const e=r.title,t=(new Date).toISOString().split("T")[0],a=(e=>{const t=e.contenttypeid;if("39"===t)return"식사";if("32"===t)return"숙박";if("38"===t)return"쇼핑";if("14"===t)return"문화시설";const a=e.title.toLowerCase(),r=e.cat1?.toLowerCase()||"",s=e.cat2?.toLowerCase()||"",o=e.cat3?.toLowerCase()||"";return["호텔","펜션","모텔","게스트하우스","리조트","콘도","민박","캠핑","숙박"].some(e=>a.includes(e)||r.includes(e)||s.includes(e)||o.includes(e))?"숙박":["맛집","식당","카페","레스토랑","음식","요리","한식","중식","일식","양식","분식","치킨","피자","햄버거"].some(e=>a.includes(e)||r.includes(e)||s.includes(e)||o.includes(e))?"식사":["쇼핑","마트","백화점","상가","시장","기념품","상점","아울렛","몰"].some(e=>a.includes(e)||r.includes(e)||s.includes(e)||o.includes(e))?"쇼핑":["역","터미널","공항","버스","지하철","택시","렌터카","주차"].some(e=>a.includes(e)||r.includes(e)||s.includes(e)||o.includes(e))?"교통":(["관광","명소","유적","박물관","미술관","공원","산","바다","해변","온천","스파"].some(e=>a.includes(e)||r.includes(e)||s.includes(e)||o.includes(e)),"관광")})(r);window.open(`/schedule?place=${encodeURIComponent(e)}&date=${t}&category=${a}`,"_blank")},className:"group flex items-center justify-center gap-3 px-6 py-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[k.jsx(at,{className:"w-5 h-5"}),k.jsx("span",{className:"font-semibold",children:s("addToSchedule")}),k.jsx("svg",{className:"w-4 h-4 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),k.jsxs("button",{onClick:()=>{const e=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(r.title)}`;window.open(e,"_blank")},className:"group flex items-center justify-center gap-3 px-6 py-4 bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-xl hover:from-gray-600 hover:to-gray-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[k.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:k.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})}),k.jsx("span",{className:"font-semibold",children:s("viewOnGoogleMaps")}),k.jsx("svg",{className:"w-4 h-4 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]}),k.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6",children:[k.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[k.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-full"}),s("travelTips")]}),k.jsxs("div",{className:"space-y-3 text-gray-700",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("div",{className:"w-1.5 h-1.5 bg-pink-400 rounded-full"}),k.jsx("span",{className:"text-sm",children:s("tipCheckHours")})]}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("div",{className:"w-1.5 h-1.5 bg-pink-400 rounded-full"}),k.jsx("span",{className:"text-sm",children:s("tipTransport")})]}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("div",{className:"w-1.5 h-1.5 bg-pink-400 rounded-full"}),k.jsx("span",{className:"text-sm",children:s("tipWeather")})]})]})]})]})]})})]})]}):null},pt=()=>{r(),o();return k.jsx(k.Fragment,{children:k.jsx("div",{className:"fixed bottom-6 right-6 z-50",style:{zIndex:9999},children:k.jsx("button",{type:"button",onClick:()=>{try{window.history.length>1?window.history.back():window.location.href="/"}catch(e){window.location.href="/"}},className:"w-12 h-12 bg-white hover:bg-gray-50 text-gray-900 rounded-full shadow-lg border border-gray-200 flex items-center justify-center transition-all duration-300 hover:scale-110 cursor-pointer",title:"뒤로 가기",style:{position:"fixed",bottom:"24px",right:"24px",zIndex:9999,border:"none",outline:"none"},children:k.jsx("svg",{className:"w-6 h-6 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M15 19l-7-7 7-7"})})})})})},xt={id:"mock-1",displayName:{text:"모의 여행지 A"},rating:4.6,userRatingCount:128,editorialSummary:{text:"백엔드 없이도 보이는 상세 설명 예시입니다."},websiteUri:"https://example.com",photos:[{name:"https://picsum.photos/seed/a/1200/800"}],reviews:[{author:{displayName:"홍길동"},rating:5,text:"정말 좋았어요!",relativePublishTimeDescription:"2 days ago"},{author:{displayName:"김철수"},rating:4,text:"가볼만 합니다.",relativePublishTimeDescription:"1 week ago"}]};
/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function yt(){const{id:t}=n(),a=r(),{t:s,i18n:o}=m(),[i,l]=e.useState(null),[d,c]=e.useState("relevance"),[g,u]=e.useState(!1),[h,p]=e.useState(0),[x,y]=e.useState(new Set),[f,b]=e.useState(!0),[v,w]=e.useState(!1),[j,N]=e.useState(!1),[S,C]=e.useState(!1),[D,T]=e.useState([]),[M,I]=e.useState([]),[L,P]=e.useState(!1),[E,R]=e.useState(!1),A=e.useRef(!1),[$,U]=e.useState(null),[O,J]=e.useState(!1),[F,z]=e.useState([]),[H,B]=e.useState([]),[_,W]=e.useState(3),[G,q]=e.useState(3),[K,Y]=e.useState(!1),V=(e,t,a)=>`dev_cache_${a}_${Math.round(100*e)/100}_${Math.round(100*t)/100}`,X=(e,t,a)=>{try{const r=V(e,t,a),s=localStorage.getItem(r);if(s){const e=JSON.parse(s);return console.log(`📦 캐시에서 ${a} 로드:`,e.length,"개"),e}}catch(r){console.warn("캐시 로드 실패:",r)}return[]},Q=(e,t,a,r)=>{try{const s=V(e,t,a);localStorage.setItem(s,JSON.stringify(r)),console.log(`💾 ${a} 캐시 저장:`,r.length,"개")}catch(s){console.warn("캐시 저장 실패:",s)}};e.useEffect(()=>{window.devCache={list:()=>{const e=Object.keys(localStorage).filter(e=>e.startsWith("dev_cache_"));return console.log("📦 개발 캐시 목록:",e),e.forEach(e=>{const t=JSON.parse(localStorage.getItem(e)||"[]");console.log(`${e}: ${t.length}개`)}),e},clear:()=>{Object.keys(localStorage).filter(e=>e.startsWith("dev_cache_")).forEach(e=>localStorage.removeItem(e)),console.log("🗑️ 개발 캐시 삭제 완료")},clearLocation:(e,t)=>{const a=V(e,t,"restaurants"),r=V(e,t,"accommodations");localStorage.removeItem(a),localStorage.removeItem(r),console.log("🗑️ 위치별 캐시 삭제 완료:",e,t)}}},[]);const[ee,re]=e.useState(0),se=(e,t,a,r)=>{const s=(a-e)*Math.PI/180,o=(r-t)*Math.PI/180,n=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e*Math.PI/180)*Math.cos(a*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return 6371*(2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n)))};e.useEffect(()=>{t&&(l(null),T([]),I([]),R(!1),ne(t),async function(e){if(!ae())return;try{const t=await _e(e);w(t.liked)}catch(t){console.error("Check like status error:",t)}}(t))},[t]),e.useEffect(()=>{t&&i&&ne(t)},[o.language]),e.useEffect(()=>{i?.location&&!E&&oe()},[i?.location,E]);const oe=async()=>{if(i?.location&&!E&&!A.current){P(!0),A.current=!0,R(!0);try{console.log("🔍 주변 장소 조회 시작:",i.location);const t=X(i.location.latitude,i.location.longitude,"restaurants"),a=X(i.location.latitude,i.location.longitude,"accommodations");let r=t,s=a;if(0===r.length){console.log("🚀 맛집 API 호출 시작");try{const e=(o.language||"ko").split("-")[0];r=await async function(e,t,a=2e3,r=10,s=1,o){try{const n=`${qe}/v1/tour/restaurants?mapX=${e}&mapY=${t}&radius=${a}&numOfRows=${r}&pageNo=${s}${o?`&lang=${o}`:""}`;return(await Ye(n)).data||[]}catch(n){return console.error("Failed to fetch restaurants:",n),[]}}(i.location.longitude,i.location.latitude,5e3,20,1,e),Q(i.location.latitude,i.location.longitude,"restaurants",r)}catch(e){console.error("맛집 API 호출 실패:",e)}await new Promise(e=>setTimeout(e,1e3))}if(0===s.length){console.log("🚀 숙소 API 호출 시작");try{const t=(o.language||"ko").split("-")[0];s=await async function(t,a,r=2e3,s=10,o=1,n){try{const e=`${qe}/v1/tour/accommodations?mapX=${t}&mapY=${a}&radius=${r}&numOfRows=${s}&pageNo=${o}${n?`&lang=${n}`:""}`;return(await Ye(e)).data||[]}catch(e){return console.error("Failed to fetch accommodations:",e),[]}}(i.location.longitude,i.location.latitude,5e3,20,1,t),Q(i.location.latitude,i.location.longitude,"accommodations",s)}catch(e){console.error("숙소 API 호출 실패:",e)}}(r.length>0||s.length>0)&&console.log("📦 캐시 사용:",r.length,"맛집,",s.length,"숙소"),console.log("🍜 맛집 결과:",r),console.log("🏨 숙소 결과:",s);const n=r.filter(e=>e.firstimage).filter((e,t,a)=>t===a.findIndex(t=>t.contentid===e.contentid)).sort((e,t)=>se(i.location.latitude,i.location.longitude,parseFloat(e.mapy),parseFloat(e.mapx))-se(i.location.latitude,i.location.longitude,parseFloat(t.mapy),parseFloat(t.mapx))),l=s.filter(e=>e.firstimage).filter((e,t,a)=>t===a.findIndex(t=>t.contentid===e.contentid)).sort((e,t)=>se(i.location.latitude,i.location.longitude,parseFloat(e.mapy),parseFloat(e.mapx))-se(i.location.latitude,i.location.longitude,parseFloat(t.mapy),parseFloat(t.mapx)));z(n),B(l),W(3),q(3),T(n.slice(0,3)),I(l.slice(0,3)),console.log("🍜 맛집 초기 로드:",{total:n.length,displayed:3}),console.log("🏨 숙소 초기 로드:",{total:l.length,displayed:3})}catch(t){console.error("주변 장소 조회 실패:",t),R(!1)}finally{P(!1),A.current=!1}}};async function ne(e){try{const a=await te("/v1/places/"+encodeURIComponent(e));if(l(a),console.log("🔍 최근 본 장소 저장 체크:",{isAuthenticated:ae(),placeId:e,hasToken:!!localStorage.getItem("vk_token"),placeName:"object"==typeof a.displayName?a.displayName?.text:a.displayName}),ae())try{const t=`recent-added:${e}`;console.log("🔄 최근 본 장소 추가 진행:",t);const r=a.categories??a.types??[],s=Array.from(new Set(r.map(e=>String(e).toLowerCase().trim()))).slice(0,8);console.log("✅ 최근 본 장소 추가 시도:",{placeId:e,name:"object"==typeof a.displayName?a.displayName?.text:a.displayName,address:a.formattedAddress,rating:a.rating,tags:s,recentKey:t});const o=await async function(e,t,a,r,s){const o=localStorage.getItem("vk_token");if(!o)throw new Error("Authentication required");const n=await fetch(Z("/v1/recent-views"),{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"},body:JSON.stringify({placeId:e,name:t,address:a,rating:r,tags:s||[]})});if(!n.ok)throw new Error(`Failed to add recent view: ${n.status}`);return n.json()}(String(e),"object"==typeof a.displayName?a.displayName?.text:a.displayName,a.formattedAddress,a.rating,s);console.log("✅ 최근 본 장소 저장 성공:",o),sessionStorage.setItem(t,"1")}catch(t){console.error("❌ 최근 본 장소 저장 실패:",t),console.error("❌ 에러 상세:",{placeId:e,placeName:"object"==typeof a.displayName?a.displayName?.text:a.displayName,error:t})}else console.log("⚠️ 인증되지 않은 사용자 - 최근 본 장소 저장 건너뜀")}catch(t){console.error("Error fetching detail:",t);const a=sessionStorage.getItem(`fallback-desc:${e}`);l(a?{...xt,editorialSummary:a}:xt)}}const de=e=>{U(e),J(!0)},ce=async e=>{console.log(`🔄 더보기 클릭: ${e}`),Y(!0);try{if("restaurants"===e){const e=Math.min(_+3,F.length);console.log(`🍜 맛집 표시 개수 변경: ${_} → ${e}`),W(e),T(F.slice(0,e))}else{const e=Math.min(G+3,H.length);console.log(`🏨 숙소 표시 개수 변경: ${G} → ${e}`),q(e),I(H.slice(0,e))}}catch(t){console.error("더 보기 로드 실패:",t)}finally{Y(!1)}};if(!i)return k.jsx("div",{className:"p-8",children:s("loading")});const ge="object"==typeof i.displayName?i.displayName?.text:i.displayName??s("noName");return k.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pt-16 md:pt-20",children:[k.jsx(ie,{}),k.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-10",children:[k.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_360px] gap-8",children:[k.jsx("div",{children:i.photos&&i.photos.length>0&&k.jsx("div",{className:"relative mb-8",children:k.jsxs("div",{className:"relative overflow-hidden rounded-2xl shadow-lg",children:[k.jsx("div",{className:"w-full h-[500px] md:h-[600px] cursor-pointer transition-transform duration-300 hover:scale-[1.02] flex items-center justify-center",onClick:()=>{u(!0),p(ee)},children:(()=>{const e=i.photos[ee];return/^https?:\/\//.test(e.name)?k.jsx("img",{src:e.name,alt:ge,className:"object-cover w-full h-full max-w-full max-h-full",onLoad:()=>{sessionStorage.setItem(`place-photo:${i.id}`,JSON.stringify({url:e.name,timestamp:Date.now()}))}}):(()=>{const t=Z(`/v1/places/${encodeURIComponent(i.id)}/photos/media?name=${encodeURIComponent(e.name)}&maxWidthPx=1200`);return k.jsx("img",{src:t,alt:ge,className:"object-cover w-full h-full",onLoad:()=>{sessionStorage.setItem(`place-photo:${i.id}`,JSON.stringify({url:t,timestamp:Date.now()}))}})})()})()}),i.photos.length>1&&k.jsxs(k.Fragment,{children:[k.jsx("button",{onClick:()=>{i?.photos&&re(e=>0===e?Math.min(i.photos.length-1,4):e-1)},className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-black/30 hover:bg-black/50 text-white rounded-full flex items-center justify-center transition-all duration-200 backdrop-blur-sm",children:k.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),k.jsx("button",{onClick:()=>{i?.photos&&re(e=>e===Math.min(i.photos.length-1,4)?0:e+1)},className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-10 h-10 bg-black/30 hover:bg-black/50 text-white rounded-full flex items-center justify-center transition-all duration-200 backdrop-blur-sm",children:k.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),k.jsxs("div",{className:"absolute bottom-4 right-4 px-3 py-1 text-sm text-white bg-black/50 rounded-full backdrop-blur-sm",children:[ee+1,"/",Math.min(i.photos.length,5)]}),k.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[k.jsx("button",{onClick:async function(){if(ae()){if(i&&t){N(!0);try{if(v)await Be(t),w(!1);else{const e=i.categories??i.types??[],a=Array.from(new Set(e.map(e=>String(e).toLowerCase().trim()))).slice(0,8);await He(t,"object"==typeof i.displayName?i.displayName?.text:i.displayName,i.formattedAddress,i.rating,a),w(!0)}}catch(e){console.error("Like error:",e),alert(v?"좋아요 취소에 실패했습니다.":"좋아요 저장에 실패했습니다.")}finally{N(!1)}}}else a("/login")},disabled:j,className:`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-200 backdrop-blur-sm ${v?"bg-red-500/80 hover:bg-red-500 text-white":"bg-white/30 hover:bg-white/50 text-white"} ${j?"opacity-60 cursor-not-allowed":""}`,children:k.jsx("svg",{className:"w-5 h-5",fill:v?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),k.jsx("button",{onClick:function(){C(!0)},className:"w-10 h-10 bg-blue-500/80 hover:bg-blue-500 text-white rounded-full flex items-center justify-center transition-all duration-200 backdrop-blur-sm",children:k.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})]})})}),k.jsx("aside",{className:"hidden lg:block",children:k.jsx("div",{className:"sticky top-24",children:k.jsxs("div",{className:"rounded-2xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm overflow-hidden",children:[k.jsxs("div",{className:"p-5 border-b border-gray-200 dark:border-gray-700",children:[k.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-1",children:ge}),k.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300",children:"number"==typeof i.rating&&k.jsxs(k.Fragment,{children:[k.jsxs("span",{className:"inline-flex items-center gap-1 text-amber-600 dark:text-amber-400 font-semibold",children:["★ ",i.rating?.toFixed(1)]}),i.userRatingCount&&k.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["(",i.userRatingCount," ",s("reviews"),")"]})]})})]}),k.jsxs("div",{className:"p-5 space-y-4",children:[i.businessStatus&&k.jsx("div",{children:k.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium border "+("OPERATIONAL"===i.businessStatus?"bg-green-50 text-green-700 border-green-200":"CLOSED_TEMPORARILY"===i.businessStatus?"bg-yellow-50 text-yellow-700 border-yellow-200":"CLOSED_PERMANENTLY"===i.businessStatus?"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-200 dark:border-gray-600":"bg-gray-50 dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-200 dark:border-gray-600"),children:"OPERATIONAL"===i.businessStatus?s("businessStatus"):"CLOSED_TEMPORARILY"===i.businessStatus?s("temporarilyClosed"):"CLOSED_PERMANENTLY"===i.businessStatus?s("permanentlyClosed"):i.businessStatus})}),i.formattedAddress&&k.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[k.jsx("svg",{className:"w-4 h-4 mt-0.5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})}),k.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:i.formattedAddress})]}),i.formattedPhoneNumber&&k.jsxs("a",{href:`tel:${i.formattedPhoneNumber}`,className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300 hover:text-blue-600",children:[k.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),i.formattedPhoneNumber]}),i.websiteUri&&k.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[k.jsx("svg",{className:"w-4 h-4 mt-0.5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),k.jsx("a",{href:i.websiteUri,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline break-all",children:i.websiteUri})]}),i.openingHours?.weekdayDescriptions&&i.openingHours.weekdayDescriptions.length>0&&k.jsxs("div",{children:[k.jsx("div",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2",children:s("businessHours")}),k.jsx("div",{className:"space-y-1 text-sm",children:i.openingHours.weekdayDescriptions.map((e,t)=>{const a=["일","월","화","수","목","금","토"],r=(new Date).getDay(),s=e.startsWith(a[r]+"요일")||e.startsWith(a[r]+"일");return k.jsx("div",{className:""+(s?"text-blue-600 font-semibold":"text-gray-700 dark:text-gray-300"),children:e},t)})})]})]}),k.jsx("div",{className:"p-5 border-t",children:k.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[k.jsx("button",{className:"px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 text-sm text-gray-700 dark:text-gray-300",onClick:()=>{i.formattedAddress&&navigator.clipboard?.writeText(i.formattedAddress).catch(()=>{})},children:s("copyAddress")}),k.jsx("a",{className:"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 text-sm text-center",href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(ge)}`,target:"_blank",rel:"noopener noreferrer",children:s("viewOnMap")})]})})]})})})]}),k.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6",children:[k.jsxs("div",{className:"flex items-center justify-between mb-6 lg:hidden",children:[k.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:ge}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("div",{className:"rating rating-sm",children:[1,2,3,4,5].map(e=>k.jsx("input",{type:"radio",name:`rating-${i.id}`,className:"bg-orange-400 mask mask-star-2",checked:!!i.rating&&Math.round(i.rating)===e,readOnly:!0},e))}),k.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:[i.rating?.toFixed(1)??"-"," (",i.userRatingCount?.toLocaleString()??0," ",s("reviews"),")"]})]})]}),i.businessStatus&&k.jsx("div",{className:"lg:hidden badge badge-outline "+("OPERATIONAL"===i.businessStatus?"badge-error":"CLOSED_TEMPORARILY"===i.businessStatus?"badge-warning":"CLOSED_PERMANENTLY"===i.businessStatus?"badge-neutral":""),children:"OPERATIONAL"===i.businessStatus?s("businessStatus"):"CLOSED_TEMPORARILY"===i.businessStatus?s("temporarilyClosed"):"CLOSED_PERMANENTLY"===i.businessStatus?s("permanentlyClosed"):i.businessStatus}),i.formattedAddress&&k.jsx("div",{className:"lg:hidden flex items-center gap-2 mt-2",children:k.jsxs("span",{className:"text-sm opacity-80",children:["📍 ",i.formattedAddress]})}),k.jsxs("div",{className:"lg:hidden flex flex-wrap gap-4 mt-4",children:[i.formattedPhoneNumber&&k.jsxs("a",{href:`tel:${i.formattedPhoneNumber}`,className:"flex items-center gap-2 text-sm link link-primary",children:["📞 ",i.formattedPhoneNumber]}),i.websiteUri&&k.jsxs("a",{href:i.websiteUri,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 text-sm link link-primary",children:["🌐 ",s("website")]})]}),i.openingHours?.weekdayDescriptions&&i.openingHours.weekdayDescriptions.length>0&&k.jsxs("div",{className:"lg:hidden mt-5",children:[k.jsx("div",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200 mb-2",children:s("businessHours")}),k.jsx("div",{className:"space-y-1 text-sm",children:i.openingHours.weekdayDescriptions.map((e,t)=>{const a=["일","월","화","수","목","금","토"],r=(new Date).getDay(),s=e.startsWith(a[r]+"요일")||e.startsWith(a[r]+"일");return k.jsx("div",{className:""+(s?"text-blue-600 font-semibold":"text-gray-700 dark:text-gray-300"),children:e},t)})})]}),i.priceLevel&&k.jsx("div",{className:"mt-2",children:k.jsxs("span",{className:"text-sm opacity-80",children:[s("priceLevel"),": ","💰".repeat(Number(i.priceLevel))]})}),i.editorialSummary&&k.jsxs("div",{className:"mt-4",children:[k.jsx("h3",{className:"mb-2 font-semibold text-gray-900 dark:text-gray-100",children:s("description")}),k.jsx("p",{className:"text-sm opacity-80 text-gray-700 dark:text-gray-300",children:"object"==typeof i.editorialSummary?i.editorialSummary.text:i.editorialSummary})]}),i.reviews&&i.reviews.length>0&&k.jsxs("div",{className:"p-4 mt-6 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[k.jsxs("div",{className:"mb-3",children:[k.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:s("googleReviews")}),k.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[s("totalReviews")," ",i.userRatingCount?.toLocaleString()||0,s("reviews")]})]}),k.jsx("div",{className:"flex items-center justify-center",children:k.jsxs("div",{className:"text-center",children:[k.jsx("div",{className:"mb-1 text-3xl font-bold text-gray-800 dark:text-gray-100",children:i.rating?.toFixed(1)||"0.0"}),k.jsx("div",{className:"flex justify-center mb-2",children:[1,2,3,4,5].map(e=>k.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:k.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},e))}),k.jsxs("div",{className:"text-sm text-gray-600 dark:text-white",children:[s("reviews")," ",i.userRatingCount?.toLocaleString()||0,s("reviews")]})]})})]}),i.reviews&&i.reviews.length>0&&k.jsxs("div",{className:"mt-6",children:[k.jsxs("div",{className:"flex items-center justify-between mb-4",children:[k.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:s("reviews")}),k.jsxs("button",{onClick:()=>b(!f),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2",children:[s(f?"hideReviews":"viewReviews"),k.jsx("svg",{className:"w-4 h-4 transition-transform "+(f?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),f&&k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"mb-4",children:k.jsxs("div",{className:"flex gap-2",children:[k.jsx("button",{className:"px-3 py-1 text-sm rounded-full transition-colors "+("relevance"===d?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-500"),onClick:()=>c("relevance"),children:s("relevanceOrder")}),k.jsx("button",{className:"px-3 py-1 text-sm rounded-full transition-colors "+("latest"===d?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-500"),onClick:()=>c("latest"),children:s("latestOrder")})]})}),k.jsx("div",{className:"space-y-4",children:(()=>{let e=[...i.reviews];return"latest"===d?e.sort((e,t)=>{const a=e.publishTime?new Date(e.publishTime).getTime():0;return(t.publishTime?new Date(t.publishTime).getTime():0)-a}):e.sort((e,t)=>{const a=e.rating||0,r=t.rating||0;if(r!==a)return r-a;const s=e.publishTime?new Date(e.publishTime).getTime():0;return(t.publishTime?new Date(t.publishTime).getTime():0)-s}),k.jsxs(k.Fragment,{children:[e.map((e,t)=>k.jsxs("div",{className:"p-4 border rounded-lg bg-base-50",children:[k.jsxs("div",{className:"flex items-start justify-between mb-3",children:[k.jsxs("div",{className:"flex-1",children:[k.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[k.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.author?.displayName||e.authorAttribution?.displayName||"Anonymous"}),e.isLocalGuide&&k.jsx("span",{className:"px-2 py-0.5 text-xs bg-blue-100 text-blue-800 rounded-full",children:s("localGuide")})]}),k.jsxs("div",{className:"flex items-center gap-4 mb-2 text-xs text-gray-600 dark:text-white",children:[e.reviewCount&&k.jsxs("span",{children:[s("reviews")," ",e.reviewCount,s("reviews")]}),e.photoCount&&k.jsxs("span",{children:[s("photos")," ",e.photoCount,s("photos")]})]}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("div",{className:"rating rating-xs",children:[1,2,3,4,5].map(a=>k.jsx("input",{type:"radio",name:`review-rating-${t}`,className:"bg-orange-400 mask mask-star-2",checked:e.rating===a,readOnly:!0},a))}),k.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:e.rating?.toFixed(1)})]})]}),k.jsx("div",{className:"text-xs text-right text-gray-500 dark:text-gray-400",children:e.relativePublishTimeDescription})]}),(()=>{const a="object"==typeof e.text?e.text.text:e.text||"",r=x.has(t),s=a.length>150,o=s&&!r?a.substring(0,150)+"...":a;return k.jsxs("div",{children:[k.jsx("p",{className:"text-sm leading-relaxed text-gray-800 dark:text-gray-200",children:o}),s&&k.jsx("button",{className:"mt-2 text-sm text-blue-600 transition-colors hover:text-blue-800",onClick:()=>{const e=new Set(x);r?e.delete(t):e.add(t),y(e)},children:r?"접기":"더보기"})]})})()]},t)),e.length>0&&k.jsx("div",{className:"flex justify-center gap-4 mt-6",children:k.jsxs("a",{href:`https://www.google.com/maps/search/${encodeURIComponent(ge)}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 text-blue-600 transition-colors rounded-lg bg-blue-50 hover:bg-blue-100",children:[k.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:k.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})}),s("viewMoreOnGoogleMaps")]})})]})})()})]})]}),k.jsxs("div",{className:"mt-8",children:[k.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-gray-100",children:s("nearbyRestaurants")}),L?k.jsxs("div",{className:"text-center py-8",children:[k.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),k.jsx("p",{className:"mt-4 text-gray-600 dark:text-white",children:s("loadingNearbyInfo")})]}):k.jsxs("div",{className:"space-y-8",children:[D.length>0&&k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold mb-4 flex items-center text-gray-900 dark:text-gray-100",children:s("restaurants")}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:F.slice(0,_).map((e,t)=>k.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden hover:shadow-lg hover:scale-105 transition-all duration-200 cursor-pointer group",onClick:()=>de(e),children:[e.firstimage&&k.jsx("img",{src:e.firstimage,alt:e.title,className:"w-full h-32 object-cover",onError:e=>{e.currentTarget.src="https://via.placeholder.com/300x150?text=No+Image"}}),k.jsxs("div",{className:"p-4",children:[k.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2 line-clamp-1 group-hover:text-blue-600 transition-colors",children:e.title}),k.jsxs("p",{className:"text-sm text-gray-600 dark:text-white mb-2",children:["📍 ",e.addr1]}),k.jsxs("div",{className:"flex items-center justify-between mb-2",children:[k.jsxs("p",{className:"text-xs text-green-600 font-medium",children:["📏 ",se(i?.location.latitude||0,i?.location.longitude||0,parseFloat(e.mapy),parseFloat(e.mapx)).toFixed(1),"km"]}),k.jsx("p",{className:"text-xs text-blue-500 font-medium",children:s("viewDetail")})]}),e.tel&&k.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["📞 ",e.tel]})]})]},`restaurant-${e.contentid}-${t}`))}),F.length>_&&k.jsx("div",{className:"mt-4 text-center",children:k.jsx("button",{onClick:()=>{console.log("🍜 맛집 더보기 버튼 클릭됨"),ce("restaurants")},disabled:K,className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 mx-auto",children:K?k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s("loading")]}):k.jsxs(k.Fragment,{children:[s("morePlaces")," (",F.length-_,s("moreCount"),")",k.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})})]}),M.length>0&&k.jsxs("div",{children:[k.jsx("h3",{className:"text-xl font-semibold mb-4 flex items-center text-gray-900 dark:text-gray-100",children:s("accommodations")}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:H.slice(0,G).map((e,t)=>k.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden hover:shadow-lg hover:scale-105 transition-all duration-200 cursor-pointer group",onClick:()=>de(e),children:[e.firstimage&&k.jsx("img",{src:e.firstimage,alt:e.title,className:"w-full h-32 object-cover",onError:e=>{e.currentTarget.src="https://via.placeholder.com/300x150?text=No+Image"}}),k.jsxs("div",{className:"p-4",children:[k.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2 line-clamp-1 group-hover:text-blue-600 transition-colors",children:e.title}),k.jsxs("p",{className:"text-sm text-gray-600 dark:text-white mb-2",children:["📍 ",e.addr1]}),k.jsxs("div",{className:"flex items-center justify-between mb-2",children:[k.jsxs("p",{className:"text-xs text-green-600 font-medium",children:["📏 ",se(i?.location.latitude||0,i?.location.longitude||0,parseFloat(e.mapy),parseFloat(e.mapx)).toFixed(1),"km"]}),k.jsx("p",{className:"text-xs text-blue-500 font-medium",children:s("viewDetail")})]}),e.tel&&k.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["📞 ",e.tel]})]})]},`accommodation-${e.contentid}-${t}`))}),H.length>G&&k.jsx("div",{className:"mt-4 text-center",children:k.jsx("button",{onClick:()=>{console.log("🏨 숙소 더보기 버튼 클릭됨"),ce("accommodations")},disabled:K,className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 mx-auto",children:K?k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s("loading")]}):k.jsxs(k.Fragment,{children:[s("morePlaces")," (",H.length-G,s("moreCount"),")",k.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})})]}),0===D.length&&0===M.length&&!L&&k.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:k.jsx("p",{children:s("noNearbyPlaces")})})]})]})]})]}),g&&i.photos&&i.photos.length>0&&k.jsxs("div",{className:"fixed inset-0 z-[100] bg-black",children:[k.jsxs("div",{className:"absolute top-0 left-0 right-0 z-10 flex items-center justify-between p-4 bg-gradient-to-b from-black/50 to-transparent",children:[k.jsxs("div",{className:"flex items-center gap-4",children:[k.jsx("button",{className:"p-2 text-white transition-colors rounded-full hover:bg-white/10",onClick:()=>u(!1),children:k.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),k.jsxs("div",{className:"text-white",children:[k.jsx("div",{className:"font-medium",children:ge}),k.jsxs("div",{className:"text-sm text-gray-300 dark:text-gray-500",children:[h+1," / ",i.photos.length]})]})]}),k.jsx("div",{className:"text-sm text-white",children:"저작권 보호를 받는 이미지일 수 있습니다."})]}),k.jsxs("div",{className:"flex h-full",children:[k.jsx("div",{className:"w-64 p-4 overflow-y-auto bg-gray-900",children:k.jsx("div",{className:"grid grid-cols-2 gap-2",children:i.photos.map((e,t)=>k.jsx("button",{className:"relative aspect-square rounded overflow-hidden border-2 transition-all "+(t===h?"border-blue-500 ring-2 ring-blue-500":"border-gray-600 hover:border-gray-400"),onClick:()=>p(t),children:/^https?:\/\//.test(e.name)?k.jsx("img",{src:e.name,alt:`썸네일 ${t+1}`,className:"object-cover w-full h-full",onLoad:()=>{sessionStorage.setItem(`place-photo:${i.id}`,JSON.stringify({url:e.name,timestamp:Date.now()}))}}):(()=>{const a=Z(`/v1/places/${encodeURIComponent(i.id)}/photos/media?name=${encodeURIComponent(e.name)}&maxWidthPx=200`);return k.jsx("img",{src:a,alt:`썸네일 ${t+1}`,className:"object-cover w-full h-full",onLoad:()=>{sessionStorage.setItem(`place-photo:${i.id}`,JSON.stringify({url:a,timestamp:Date.now()}))}})})()},t))})}),k.jsxs("div",{className:"relative flex items-center justify-center flex-1",children:[k.jsx("div",{className:"relative max-w-full max-h-full",children:(()=>{const e=i.photos[h];return/^https?:\/\//.test(e.name)?k.jsx("img",{src:e.name,alt:`${ge} ${h+1}`,className:"max-w-full max-h-[90vh] object-contain",onLoad:()=>{sessionStorage.setItem(`place-photo:${i.id}`,JSON.stringify({url:e.name,timestamp:Date.now()}))}}):(()=>{const t=Z(`/v1/places/${encodeURIComponent(i.id)}/photos/media?name=${encodeURIComponent(e.name)}&maxWidthPx=1200`);return k.jsx("img",{src:t,alt:`${ge} ${h+1}`,className:"max-w-full max-h-[90vh] object-contain",onLoad:()=>{sessionStorage.setItem(`place-photo:${i.id}`,JSON.stringify({url:t,timestamp:Date.now()}))}})})()})()}),k.jsx("button",{className:"absolute p-3 text-white transition-colors transform -translate-y-1/2 rounded-full left-4 top-1/2 bg-black/50 hover:bg-black/70",onClick:()=>p(0===h?i.photos.length-1:h-1),children:k.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),k.jsx("button",{className:"absolute p-3 text-white transition-colors transform -translate-y-1/2 rounded-full right-4 top-1/2 bg-black/50 hover:bg-black/70",onClick:()=>p(h===i.photos.length-1?0:h+1),children:k.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})]}),k.jsx(Ge,{isOpen:S,onClose:()=>C(!1),onDateSelect:function(e){const t=i?.displayName?.text||"장소",r=e.toISOString().split("T")[0];let s="관광";if(i?.types){const e=i.types;e.some(e=>e.toLowerCase().includes("restaurant")||e.toLowerCase().includes("food")||e.toLowerCase().includes("meal")||e.toLowerCase().includes("cafe")||e.toLowerCase().includes("bar")||e.toLowerCase().includes("bakery")||e.toLowerCase().includes("meal_takeaway")||e.toLowerCase().includes("meal_delivery"))?s="식사":e.some(e=>e.toLowerCase().includes("lodging")||e.toLowerCase().includes("hotel")||e.toLowerCase().includes("accommodation")||e.toLowerCase().includes("guest_house")||e.toLowerCase().includes("hostel"))?s="숙박":e.some(e=>e.toLowerCase().includes("shopping")||e.toLowerCase().includes("store")||e.toLowerCase().includes("market")||e.toLowerCase().includes("shopping_mall")||e.toLowerCase().includes("department_store"))?s="쇼핑":e.some(e=>e.toLowerCase().includes("transit")||e.toLowerCase().includes("station")||e.toLowerCase().includes("airport")||e.toLowerCase().includes("subway_station")||e.toLowerCase().includes("bus_station"))&&(s="교통")}a(`/schedule?place=${encodeURIComponent(t)}&date=${r}&category=${encodeURIComponent(s)}`)},placeName:ge}),k.jsx(ht,{isOpen:O,onClose:()=>J(!1),tourItem:$}),k.jsx(le,{}),k.jsx(pt,{})]})}const ft={},bt=({selectedDate:t=new Date,onDateSelect:a,schedules:r={},className:s="",showLegend:o=!0})=>{const[n,i]=e.useState(new Date(t.getFullYear(),t.getMonth(),1)),{t:l,i18n:d}=m(),c=e.useCallback(()=>{i(e=>new Date(e.getFullYear(),e.getMonth()-1,1))},[]),g=e.useCallback(()=>{i(e=>new Date(e.getFullYear(),e.getMonth()+1,1))},[]);e.useCallback(()=>{const e=new Date;i(new Date(e.getFullYear(),e.getMonth(),1))},[]);const u=n.getFullYear(),h=n.getMonth(),p=new Date(u,h,1),x=new Date(u,h+1,0),y=p.getDay(),f=x.getDate(),b=new Date(u,h,0).getDate(),v=[];for(let e=y-1;e>=0;e--){const t=b-e;v.push({date:new Date(u,h-1,t),isCurrentMonth:!1,day:t})}for(let e=1;e<=f;e++)v.push({date:new Date(u,h,e),isCurrentMonth:!0,day:e});const w=42-v.length;for(let e=1;e<=w;e++)v.push({date:new Date(u,h+1,e),isCurrentMonth:!1,day:e});const j=(e=>{const t=new Date(2021,7,1);return Array.from({length:7},(a,r)=>new Intl.DateTimeFormat(e,{weekday:"narrow"}).format(new Date(t.getFullYear(),t.getMonth(),t.getDate()+r)))})(d.language||"ko"),N=(e,t)=>e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate();return k.jsxs("div",{className:`max-w-4xl mx-auto ${s}`,children:[k.jsxs("div",{className:"flex items-center justify-between mb-6",children:[k.jsx("button",{onClick:c,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:k.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),k.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:new Intl.DateTimeFormat(d.language||"ko",{year:"numeric",month:"long"}).format(n)}),k.jsx("button",{onClick:g,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:k.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),k.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-2 border-gray-200 overflow-hidden",children:[k.jsx("div",{className:"grid grid-cols-7 bg-gray-100 border-b-2 border-gray-300",children:j.map((e,t)=>k.jsx("div",{className:"h-12 flex items-center justify-center font-bold text-sm border-r border-gray-300 last:border-r-0 "+(0===t?"text-red-600":6===t?"text-blue-600":"text-gray-800"),children:k.jsx("span",{className:"uppercase tracking-wide font-mono",children:e})},e))}),k.jsx("div",{className:"grid grid-cols-7",children:v.map((e,s)=>{var o;(r[(o=e.date,`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}-${String(o.getDate()).padStart(2,"0")}`)]||[]).length;const n=(e=>N(e,new Date))(e.date),i=(e=>t&&N(e,t))(e.date);return k.jsx("div",{onClick:()=>a?.(e.date),className:"h-12 p-1 border-r border-b border-gray-300 cursor-pointer hover:bg-gray-50 transition-all duration-200 flex items-center justify-center",style:{backgroundColor:e.isCurrentMonth?i?"#93c5fd":n?"#86efac":"#ffffff":"#f9fafb"},children:k.jsx("span",{className:"text-sm font-medium w-8 h-8 flex items-center justify-center rounded-full",style:{color:e.isCurrentMonth?i?"#1e40af":n?"#166534":"#374151":"#9ca3af",fontWeight:i||n?"bold":"normal"},children:e.day})},s)})})]}),o&&k.jsxs("div",{className:"mt-4 flex items-center justify-center gap-6 text-sm text-gray-600",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("div",{className:"w-3 h-3 bg-green-200/70 rounded"}),k.jsx("span",{children:l("today")||"오늘"})]}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("div",{className:"w-3 h-3 bg-blue-200/70 rounded"}),k.jsx("span",{children:l("selectedDate")||"선택된 날짜"})]}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("div",{className:"w-3 h-3 bg-gray-200/70 rounded"}),k.jsx("span",{children:l("otherMonth")||"다른 달"})]})]})]})};function vt(){const t=r(),{t:a,i18n:s}=m(),[o,n]=e.useState(!0),[i,l]=e.useState(null),[d,c]=e.useState(""),[g,u]=e.useState("KR"),[h,p]=e.useState([]),[x,y]=e.useState([]),[f,b]=e.useState(!1),[v,w]=e.useState("recent"),[j,N]=e.useState("recent"),[S,C]=e.useState({}),[D,T]=e.useState(!1),[M,I]=e.useState(!1),[L,P]=e.useState(""),[E,R]=e.useState(""),[A,$]=e.useState(""),[U,O]=e.useState(!1);e.useEffect(()=>{localStorage.getItem("vk_token")?(async()=>{try{const t=await oe();l(t),c(t.displayName??""),u(t.lang??"KR");const a=await async function(e=1,t=20){const a=localStorage.getItem("vk_token");if(!a)throw new Error("Authentication required");const r=await fetch(`${Z("/v1/recent-views")}?page=${e}&limit=${t}`,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`Failed to fetch recent views: ${r.status}`);return r.json()}(1,20).catch(()=>({data:[]})),r=a.data||[];y(r);try{const e=(localStorage.getItem("i18nextLng")||s.language||"ko").split("-")[0],t=Array.from(new Set(r.map(e=>e.placeId))).filter(e=>!S[e]),a=4,o=t.slice(),n={},i=[],l=async()=>{for(;o.length;){const t=o.shift();try{const a=await fetch(`/api/v1/places/${encodeURIComponent(t)}?language=${e}`,{headers:{"Accept-Language":e}}),r=await a.json(),s=r?.displayName?.text||r?.displayName||"";s&&(n[t]=s)}catch{}}};for(let r=0;r<Math.min(a,o.length);r++)i.push(l());await Promise.allSettled(i),Object.keys(n).length&&C(e=>({...e,...n}))}catch{}try{const e=(await ze(1,20)).data||[];p(e);try{const t=(localStorage.getItem("i18nextLng")||s.language||"ko").split("-")[0],a=Array.from(new Set(e.map(e=>e.placeId))).filter(e=>!S[e]),r=4,o=a.slice(),n={},i=[],l=async()=>{for(;o.length;){const e=o.shift();try{const a=await fetch(`/api/v1/places/${encodeURIComponent(e)}?language=${t}`,{headers:{"Accept-Language":t}}),r=await a.json(),s=r?.displayName?.text||r?.displayName||"";s&&(n[e]=s)}catch{}}};for(let e=0;e<Math.min(r,o.length);e++)i.push(l());await Promise.allSettled(i),Object.keys(n).length&&C(e=>({...e,...n}))}catch{}}catch(e){console.error("Failed to load likes:",e),p([])}}catch(Lt){re(),t("/login",{replace:!0})}finally{n(!1)}})():t("/login",{replace:!0})},[t,s.language]);const J=(e,r)=>{const o=S[e.placeId]||e.name||a("noName")||"이름 없음",n=(i=e.placeId,`${Re}/v1/places/${encodeURIComponent(i)}/photo`);var i;const l=s.language.startsWith("en")?"No Image":"이미지 없음";return k.jsxs("div",{className:"group cursor-pointer flex-shrink-0 w-[20.736rem] rounded-2xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800 p-3 hover:shadow-md transition-shadow",onClick:()=>t(`/places/${encodeURIComponent(e.placeId)}`),role:"button",tabIndex:0,onKeyDown:a=>{"Enter"!==a.key&&" "!==a.key||t(`/places/${encodeURIComponent(e.placeId)}`)},children:[k.jsxs("div",{className:"relative w-full h-[14.784rem] rounded-xl overflow-hidden bg-gray-100",children:[k.jsx("img",{src:n,alt:o,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-[1.03]",loading:"lazy",decoding:"async",onError:e=>{const t=e.target;t.style.display="none";const a=t.parentElement;if(a){const e=document.createElement("div");e.className="w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center",e.innerHTML=`<span class="text-gray-500 text-sm">${l}</span>`,a.appendChild(e)}},onLoad:e=>{const t=e.target.parentElement;if(t){const e=t.querySelector(".loading-placeholder");e&&e.remove()}}}),k.jsx("div",{className:"loading-placeholder absolute inset-0 w-full h-full bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center",children:k.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-500"})}),r&&k.jsx("button",{className:"absolute top-3 right-3 bg-white/85 dark:bg-gray-800/85 hover:bg-white dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300 hover:text-red-600 rounded-full w-10 h-10 flex items-center justify-center shadow text-lg",onClick:t=>{t.stopPropagation(),r(e.placeId)},"aria-label":"제거",children:"✕"})]}),k.jsx("div",{className:"mt-3 mb-1 text-lg font-semibold text-gray-900 dark:text-gray-100 text-center truncate",children:o})]},e.placeId)},F=async e=>{try{await function(e,t){let a=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),r=e?.nonce||e?.getAttribute("nonce");a=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in ft)return;ft[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script"),s.crossOrigin="",s.href=e,r&&s.setAttribute("nonce",r),document.head.appendChild(s),t?new Promise((t,a)=>{s.addEventListener("load",t),s.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function r(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return a.then(t=>{for(const e of t||[])"rejected"===e.status&&r(e.reason);return e().catch(r)})}(()=>Promise.resolve().then(()=>We),void 0).then(t=>t.removeLike(e)),p(t=>t.filter(t=>t.placeId!==e))}catch(t){console.error("Failed to remove like:",t)}};return o?k.jsx("div",{className:"p-6",children:"Loading..."}):i?k.jsxs("div",{className:"bg-white dark:bg-gray-900 min-h-screen pt-16 md:pt-20",children:[k.jsx(ie,{}),k.jsx("div",{className:"flex justify-between items-center mb-6 mt-6 px-6",children:k.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-100",children:a("mypage")})}),k.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_384px] gap-6 px-6 pb-6 items-start",children:[k.jsxs("div",{className:"space-y-6 min-w-0",children:[k.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 shadow-sm rounded-lg max-w-full overflow-hidden",children:[k.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[k.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:a("likedPlaces")||"좋아요한 여행지"}),h.length>15&&k.jsx("button",{className:"text-sm text-blue-600 hover:underline",onClick:()=>b(!0),children:a("morePlaces")||"더 보기"})]}),k.jsxs("div",{className:"relative",children:[k.jsx("button",{onClick:()=>{const e=document.getElementById("liked-places-scroll");e&&e.scrollBy({left:-300,behavior:"smooth"})},className:"absolute left-2 top-1/2 transform -translate-y-1/2 z-10 w-8 h-8 bg-white/90 dark:bg-gray-800/90 hover:bg-white dark:hover:bg-gray-800 shadow-lg rounded-full flex items-center justify-center text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100 transition-all duration-200",children:k.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),k.jsx("button",{onClick:()=>{const e=document.getElementById("liked-places-scroll");e&&e.scrollBy({left:300,behavior:"smooth"})},className:"absolute right-2 top-1/2 transform -translate-y-1/2 z-10 w-8 h-8 bg-white/90 dark:bg-gray-800/90 hover:bg-white dark:hover:bg-gray-800 shadow-lg rounded-full flex items-center justify-center text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100 transition-all duration-200",children:k.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),k.jsx("div",{id:"liked-places-scroll",className:"p-5 h-[24rem] overflow-x-auto overflow-y-hidden scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:k.jsx("div",{className:"inline-flex gap-4 whitespace-nowrap",children:h&&h.length>0?("name"===v?[...h].sort((e,t)=>(S[e.placeId]||e.name||"").localeCompare(S[t.placeId]||t.name||"")):h).slice(0,15).map(e=>J(e)):k.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center justify-center h-full",children:a("noLikedPlaces")})})})]})]}),k.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 shadow-sm rounded-lg max-w-full overflow-hidden",children:[k.jsx("div",{className:"p-4 border-b flex items-center justify-between",children:k.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:a("recentViews")||"최근 본 여행지"})}),k.jsxs("div",{className:"relative",children:[k.jsx("button",{onClick:()=>{const e=document.getElementById("recent-places-scroll");e&&e.scrollBy({left:-300,behavior:"smooth"})},className:"absolute left-2 top-1/2 transform -translate-y-1/2 z-10 w-8 h-8 bg-white/90 dark:bg-gray-800/90 hover:bg-white dark:hover:bg-gray-800 shadow-lg rounded-full flex items-center justify-center text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100 transition-all duration-200",children:k.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),k.jsx("button",{onClick:()=>{const e=document.getElementById("recent-places-scroll");e&&e.scrollBy({left:300,behavior:"smooth"})},className:"absolute right-2 top-1/2 transform -translate-y-1/2 z-10 w-8 h-8 bg-white/90 dark:bg-gray-800/90 hover:bg-white dark:hover:bg-gray-800 shadow-lg rounded-full flex items-center justify-center text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100 transition-all duration-200",children:k.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),k.jsx("div",{id:"recent-places-scroll",className:"p-5 h-[24rem] overflow-x-auto overflow-y-hidden scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:k.jsx("div",{className:"inline-flex gap-4 whitespace-nowrap",children:x&&x.length>0?("name"===j?[...x].sort((e,t)=>(S[e.placeId]||e.name||"").localeCompare(S[t.placeId]||t.name||"")):x).slice(0,15).map(e=>J(e)):k.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center justify-center h-full",children:a("noRecentViews")})})})]})]})]}),k.jsxs("div",{className:"space-y-6",children:[k.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 shadow-sm rounded-lg",children:k.jsxs("div",{className:"p-6 h-full",children:[k.jsxs("div",{className:"flex flex-col items-center mb-6",children:[k.jsx("div",{className:"relative mb-4",children:k.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white text-2xl font-bold",children:i?.displayName?.charAt(0)?.toUpperCase()||"U"})}),k.jsx("button",{className:"text-lg font-bold mb-1 text-gray-900 dark:text-gray-100 hover:underline",onClick:()=>T(!0),children:i?.displayName||"닉네임"}),k.jsx("p",{className:"text-sm mb-4 text-gray-600 dark:text-white",children:i?.email})]}),k.jsxs("div",{className:"divide-y divide-gray-100 border rounded-lg",children:[k.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 text-left",onClick:()=>T(!0),children:[k.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),a("editNickname")]}),k.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 text-left",onClick:()=>I(!0),children:[k.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),a("passwordChange")]}),k.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 text-left",onClick:()=>{re(),t("/login",{replace:!0})},children:[k.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),a("logout")]}),k.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 text-sm text-red-600 hover:bg-red-50 text-left",onClick:()=>{confirm("정말로 회원탈퇴를 하시겠습니까? 이 작업은 되돌릴 수 없습니다.")&&alert("회원탈퇴 기능은 개발 중입니다.")},children:[k.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),a("deleteAccount")]})]})]})}),k.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 shadow-sm rounded-lg",children:[k.jsx("div",{className:"p-4 border-b",children:k.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:a("calendar")})}),k.jsx("div",{className:"p-3",children:k.jsx(bt,{selectedDate:new Date,onDateSelect:e=>{const a=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");t(`/schedule?date=${a}-${r}-${s}`)},schedules:{},className:"text-sm",showLegend:!1})})]})]})]}),D&&k.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:k.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4",children:[k.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:a("editNickname")}),k.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{const e=await async function(e){const t=await te("/v1/users/me",{method:"PATCH",body:e});return se=null,t}({displayName:d,lang:g});l(e),T(!1)}catch(t){console.error("Profile update failed:",t)}},children:[k.jsxs("div",{className:"mb-4",children:[k.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("nickname")}),k.jsx("input",{type:"text",value:d,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:a("enterNickname")})]}),k.jsxs("div",{className:"mb-4 hidden",children:[k.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("changeLanguage")}),k.jsxs("select",{value:g,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[k.jsx("option",{value:"KR",children:a("korean")}),k.jsx("option",{value:"EN",children:a("english")})]})]}),k.jsxs("div",{className:"flex gap-2",children:[k.jsx("button",{type:"button",onClick:()=>T(!1),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:a("cancel")}),k.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:a("save")})]})]})]})}),M&&k.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:k.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4",children:[k.jsx("h3",{className:"text-lg font-semibold mb-4",children:a("passwordChange")}),k.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),E===A)if(E.length<6)alert("비밀번호는 6자 이상이어야 합니다.");else{O(!0);try{await async function(e){return(await te("/v1/users/me/password",{method:"PATCH",body:e})).ok}({currentPassword:L,newPassword:E}),P(""),R(""),$(""),I(!1),alert("비밀번호가 변경되었습니다.")}catch(t){alert(t.message||"비밀번호 변경에 실패했습니다.")}finally{O(!1)}}else alert("새 비밀번호가 일치하지 않습니다.")},children:[k.jsxs("div",{className:"mb-4",children:[k.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("currentPassword")}),k.jsx("input",{type:"password",value:L,onChange:e=>P(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:a("enterCurrentPassword")})]}),k.jsxs("div",{className:"mb-4",children:[k.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("newPassword")}),k.jsx("input",{type:"password",value:E,onChange:e=>R(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:a("enterNewPassword")})]}),k.jsxs("div",{className:"mb-4",children:[k.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:a("confirmNewPassword")}),k.jsx("input",{type:"password",value:A,onChange:e=>$(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:a("reenterNewPassword")})]}),k.jsxs("div",{className:"flex gap-2",children:[k.jsx("button",{type:"button",onClick:()=>I(!1),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:a("cancel")}),k.jsx("button",{type:"submit",disabled:U,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:a(U?"saving":"change")})]})]})]})}),f&&k.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:k.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl mx-4 max-h-[80vh] overflow-y-auto",children:[k.jsxs("div",{className:"flex items-center justify-between mb-4",children:[k.jsxs("h3",{className:"text-lg font-semibold",children:["좋아요 (",h.length,")"]}),k.jsx("button",{onClick:()=>b(!1),className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",children:"✕"})]}),k.jsxs("div",{className:"flex items-center justify-between mb-3",children:[k.jsxs("div",{className:"text-sm text-gray-600 dark:text-white",children:["총 ",h.length,"개"]}),k.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[k.jsx("button",{className:"px-2 py-1 rounded "+("recent"===v?"bg-gray-200":""),onClick:()=>w("recent"),children:"최신순"}),k.jsx("button",{className:"px-2 py-1 rounded "+("name"===v?"bg-gray-200":""),onClick:()=>w("name"),children:"이름순"})]})]}),k.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:h.length>0?("name"===v?[...h].sort((e,t)=>(e.name||"").localeCompare(t.name||"")):h).map(e=>J(e,F)):k.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"좋아요한 장소가 없습니다."})})]})}),k.jsx(pt,{})]}):null}const wt=({onDateSelect:t,selectedDate:a})=>{const[r,s]=e.useState(new Date),{t:o,i18n:n}=m(),i=new Date(r.getFullYear(),r.getMonth(),1),l=new Date(r.getFullYear(),r.getMonth()+1,0),d=new Date(i);d.setDate(i.getDate()-i.getDay());const c=new Date(l);c.setDate(l.getDate()+(6-l.getDay()));const g=[],u=new Date(d);for(;u<=c;)g.push(new Date(u)),u.setDate(u.getDate()+1);const h=e=>{const t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},p=e=>e.getMonth()===r.getMonth(),x=e=>!!a&&(e.getDate()===a.getDate()&&e.getMonth()===a.getMonth()&&e.getFullYear()===a.getFullYear()),y=(e=>{const t=new Date(2021,7,1);return Array.from({length:7},(a,r)=>new Intl.DateTimeFormat(e,{weekday:"short"}).format(new Date(t.getFullYear(),t.getMonth(),t.getDate()+r)))})(n.language||"ko");return k.jsxs("div",{className:"max-w-4xl mx-auto",children:[k.jsxs("div",{className:"flex items-center justify-between mb-6",children:[k.jsx("button",{onClick:()=>{s(new Date(r.getFullYear(),r.getMonth()-1,1))},className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:k.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),k.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:new Intl.DateTimeFormat(n.language||"ko",{year:"numeric",month:"long"}).format(r)}),k.jsx("button",{onClick:()=>{s(new Date(r.getFullYear(),r.getMonth()+1,1))},className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:k.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),k.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-2 border-gray-200 overflow-hidden",children:[k.jsx("div",{className:"grid grid-cols-7 bg-gray-100 border-b-2 border-gray-300",children:y.map((e,t)=>k.jsx("div",{className:"p-4 text-center font-bold text-sm border-r border-gray-300 last:border-r-0 "+(0===t?"text-red-600":6===t?"text-blue-600":"text-gray-800"),children:e},e))}),k.jsx("div",{className:"grid grid-cols-7",children:g.map((e,a)=>k.jsx("div",{onClick:()=>t?.(e),className:"h-12 p-1 border-r border-b border-gray-300 cursor-pointer hover:bg-gray-50 transition-all duration-200 flex items-center justify-center",style:{backgroundColor:p(e)?x(e)?"#93c5fd":h(e)?"#86efac":"#ffffff":"#f9fafb"},children:k.jsx("span",{className:"text-sm font-medium w-8 h-8 flex items-center justify-center rounded-full",style:{color:p(e)?x(e)?"#1e40af":h(e)?"#166534":"#374151":"#9ca3af",fontWeight:x(e)||h(e)?"bold":"normal"},children:e.getDate()})},a))})]}),k.jsxs("div",{className:"mt-6 flex flex-wrap items-center justify-center gap-6 text-sm text-gray-600 dark:text-gray-400",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("div",{className:"w-3 h-3 bg-green-200/70 rounded"}),k.jsx("span",{children:o("today")||"오늘"})]}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("div",{className:"w-3 h-3 bg-blue-200/70 rounded"}),k.jsx("span",{children:o("selectedDate")||"선택된 날짜"})]})]})]})},kt=()=>{const[t,a]=e.useState({}),[r,s]=e.useState(!1),[o,n]=e.useState(null),i=e.useRef(new Map),l=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`,d=async(e,t={})=>{const a=localStorage.getItem("vk_token");if(!a)throw console.warn("JWT 토큰이 없습니다. 로그인이 필요합니다."),window.location.href="/login",new Error("Authentication required");const r={Authorization:`Bearer ${a}`,...t.headers};"DELETE"!==t.method&&(r["Content-Type"]="application/json");const s=await fetch(Z(e),{...t,headers:r});if(!s.ok){if(401===s.status)throw console.warn("JWT 토큰이 만료되었거나 유효하지 않습니다. 로그인 페이지로 이동합니다."),localStorage.removeItem("vk_token"),window.location.href="/login",new Error("Authentication expired");const e=await s.json().catch(()=>({}));throw new Error(e.error||`API Error: ${s.status}`)}const o=s.headers.get("content-type");if(o&&o.includes("text/html"))throw console.error("서버에서 HTML을 반환했습니다. API 엔드포인트를 확인하세요."),new Error("Server returned HTML instead of JSON");try{return await s.json()}catch(n){throw console.error("JSON 파싱 실패:",n),console.error("응답 내용:",await s.text()),new Error("Failed to parse JSON response")}},c=e=>{i.current.delete(e)},g=e=>{const t=localStorage.getItem(`schedules_${e}`);return t?JSON.parse(t):[]},m=(e,t)=>{localStorage.setItem(`schedules_${e}`,JSON.stringify(t))},u=e.useCallback(async e=>{try{const t=l(e),r=await(async e=>{const t=l(e),a=i.current.get(t);if(a&&Date.now()-a.timestamp<3e4)return a.data;try{s(!0);const e=await d(`/v1/schedules/${t}`),a=Array.isArray(e?.schedules)?e.schedules:Array.isArray(e?.data)?e.data:Array.isArray(e)?e:[];return i.current.set(t,{data:a,timestamp:Date.now()}),a}catch(r){if(r.message?.includes("No authentication token")||r.message?.includes("401")){const e=g(t);return i.current.set(t,{data:e,timestamp:Date.now()}),e}return console.error("Failed to fetch schedules:",r),n("스케줄을 불러오는데 실패했습니다."),[]}finally{s(!1)}})(e);a(e=>({...e,[t]:r}))}catch(t){console.error("Failed to load schedules:",t);const r=l(e);a(e=>({...e,[r]:[]}))}},[]);return{schedules:t,loading:r,error:o,getSchedulesForDate:e=>{const a=l(e);return t[a]||[]},addSchedule:async(e,t)=>{const r=l(e);try{s(!0);const a=await d("/v1/schedules",{method:"POST",body:JSON.stringify({date:r,startTime:t.startTime,endTime:t.endTime,title:t.title,remarks:t.remarks||""})}),o=a&&(a.data||a.schedule||a);return c(r),await u(e),o}catch(o){if(o.message?.includes("No authentication token")||o.message?.includes("401")){const e=g(r),s={id:`local_${Date.now()}`,startTime:t.startTime,endTime:t.endTime,title:t.title,remarks:t.remarks||"",order:(e||[]).length+1,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},o=[...e,s];return m(r,o),a(e=>({...e,[r]:o})),s}throw console.error("Failed to add schedule:",o),n("스케줄 추가에 실패했습니다."),o}finally{s(!1)}},deleteSchedule:async(e,t)=>{const r=l(e);try{s(!0),await d(`/v1/schedules/${t}`,{method:"DELETE"}),c(r);const o=l(e);a(e=>({...e,[o]:(e[o]||[]).filter(e=>e.id!==t)}))}catch(o){if(o.message?.includes("No authentication token")||o.message?.includes("401")){const e=g(r).filter(e=>e.id!==t);return m(r,e),void a(t=>({...t,[r]:e}))}throw console.error("Failed to delete schedule:",o),n("스케줄 삭제에 실패했습니다."),o}finally{s(!1)}},updateSchedule:async(e,t,r)=>{const o=l(e);try{s(!0);const n=await d(`/v1/schedules/${t}`,{method:"PUT",body:JSON.stringify(r)});c(o);const i=l(e);return a(e=>({...e,[i]:(e[i]||[]).map(e=>e.id===t?{...e,...r}:e)})),n.data}catch(i){if(i.message?.includes("No authentication token")||i.message?.includes("401")){const e=g(o).map(e=>e.id===t?{...e,...r,updatedAt:(new Date).toISOString()}:e);return m(o,e),a(t=>({...t,[o]:e})),e.find(e=>e.id===t)}throw console.error("Failed to update schedule:",i),n("스케줄 수정에 실패했습니다."),i}finally{s(!1)}},moveSchedule:async(e,r,o)=>{const i=l(e),u=t[i]||[],h=u.findIndex(e=>e.id===r);if(-1===h)return;const p="up"===o?h-1:h+1;if(!(p<0||p>=(u||[]).length))try{s(!0);const t=[...u];[t[h],t[p]]=[t[p],t[h]];const r=t.map(e=>e.id);await d("/v1/schedules/reorder",{method:"PUT",body:JSON.stringify({date:l(e),scheduleIds:r})}),c(l(e)),a(e=>({...e,[i]:t}))}catch(x){if(x.message?.includes("No authentication token")||x.message?.includes("401")){const t=l(e),s=[...g(t)],n=s.findIndex(e=>e.id===r),d="up"===o?n-1:n+1;return void(-1!==n&&d>=0&&d<(s||[]).length&&([s[n],s[d]]=[s[d],s[n]],m(t,s),a(e=>({...e,[i]:s}))))}throw console.error("Failed to move schedule:",x),n("스케줄 순서 변경에 실패했습니다."),x}finally{s(!1)}},reorderSchedules:async(e,r,o)=>{if(r===o)return;const i=l(e),u=l(e);try{s(!0);const e=[...t[u]||[]],n=e[r],l=e[o];e[r]={...n,title:l.title,googleApiData:l.googleApiData,remarks:l.remarks,category:l.category},e[o]={...l,title:n.title,googleApiData:n.googleApiData,remarks:n.remarks,category:n.category},a(t=>({...t,[u]:e}));const g=e.map(e=>e.id);await d("/v1/schedules/reorder",{method:"PUT",body:JSON.stringify({date:i,scheduleIds:g})}),c(i)}catch(h){if(h.message?.includes("No authentication token")||h.message?.includes("401")){const e=[...g(i)],t=e[r],s=e[o];return e[r]={...t,title:s.title,googleApiData:s.googleApiData,remarks:s.remarks,category:s.category},e[o]={...s,title:t.title,googleApiData:t.googleApiData,remarks:t.remarks,category:t.category},m(i,e),void a(t=>({...t,[u]:e}))}throw console.error("Failed to reorder schedules:",h),n("스케줄 순서 변경에 실패했습니다."),h}finally{s(!1)}},loadSchedulesForDate:u,clearError:()=>n(null)}},jt=({isOpen:t,onClose:a,schedule:r,onSave:s})=>{const{t:o}=m(),[n,i]=e.useState(null);e.useEffect(()=>{r&&i({...r,googleApiData:r.googleApiData||r.title||"",remarks:r.remarks||""})},[r]);const l=e=>/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/.test(e);return t&&n?k.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:k.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96 max-w-md mx-4",children:[k.jsxs("h3",{className:"text-lg font-bold mb-4 text-gray-800 dark:text-gray-100",children:["📝 ",o("editSchedule")]}),k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o("startTime")}),k.jsxs("div",{className:"flex border border-gray-300 dark:border-gray-600 rounded-md focus-within:ring-2 focus-within:ring-blue-500",children:[k.jsx("select",{value:n.startTime?n.startTime.split(":")[0]:"00",onChange:e=>{const t=e.target.value,a=n.startTime&&n.startTime.split(":")[1]||"00";i({...n,startTime:`${t}:${a}`})},className:"px-2 py-2 border-0 focus:outline-none bg-transparent",children:Array.from({length:24},(e,t)=>k.jsx("option",{value:t.toString().padStart(2,"0"),children:t.toString().padStart(2,"0")},t))}),k.jsx("span",{className:"px-1 py-2 text-gray-500",children:":"}),k.jsx("select",{value:n.startTime?n.startTime.split(":")[1]:"00",onChange:e=>{const t=e.target.value,a=n.startTime&&n.startTime.split(":")[0]||"00";i({...n,startTime:`${a}:${t}`})},className:"px-2 py-2 border-0 focus:outline-none bg-transparent",children:Array.from({length:12},(e,t)=>{const a=5*t;return k.jsx("option",{value:a.toString().padStart(2,"0"),children:a.toString().padStart(2,"0")},a)})})]})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o("endTime")}),k.jsxs("div",{className:"flex border border-gray-300 dark:border-gray-600 rounded-md focus-within:ring-2 focus-within:ring-blue-500",children:[k.jsx("select",{value:n.endTime?n.endTime.split(":")[0]:"00",onChange:e=>{const t=e.target.value,a=n.endTime&&n.endTime.split(":")[1]||"00";i({...n,endTime:`${t}:${a}`})},className:"px-2 py-2 border-0 focus:outline-none bg-transparent",children:Array.from({length:24},(e,t)=>k.jsx("option",{value:t.toString().padStart(2,"0"),children:t.toString().padStart(2,"0")},t))}),k.jsx("span",{className:"px-1 py-2 text-gray-500",children:":"}),k.jsx("select",{value:n.endTime?n.endTime.split(":")[1]:"00",onChange:e=>{const t=e.target.value,a=n.endTime&&n.endTime.split(":")[0]||"00";i({...n,endTime:`${a}:${t}`})},className:"px-2 py-2 border-0 focus:outline-none bg-transparent",children:Array.from({length:12},(e,t)=>{const a=5*t;return k.jsx("option",{value:a.toString().padStart(2,"0"),children:a.toString().padStart(2,"0")},a)})})]})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o("placeActivity")}),k.jsx("input",{type:"text",value:n.googleApiData,onChange:e=>i({...n,googleApiData:e.target.value,title:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:o("placePlaceholder")})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o("memo")}),k.jsx("input",{type:"text",value:n.remarks,onChange:e=>i({...n,remarks:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:o("memoPlaceholder")})]})]}),k.jsxs("div",{className:"flex gap-3 justify-end mt-6",children:[k.jsx("button",{type:"button",onClick:()=>{a()},className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:o("cancel")}),k.jsx("button",{type:"button",onClick:()=>{n&&(l(n.startTime)&&l(n.endTime)?((e,t)=>{if(!l(e)||!l(t))return!1;const[a,r]=e.split(":").map(Number),[s,o]=t.split(":").map(Number);return 60*a+r<60*s+o})(n.startTime,n.endTime)?s(n):alert(o("endTimeAfterStart")):alert(o("invalidTimeFormat")))},className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md font-medium transition-colors",children:o("save")})]})]})}):null},Nt=({onSubmit:t,defaultValue:a={},defaultCategory:r="관광",compact:s=!1,className:o=""})=>{const{t:n}=m(),[i,l]=e.useState({startTime:"",endTime:"",googleApiData:"",remarks:"",category:r,...a}),[d,c]=e.useState({}),[g,u]=e.useState(!1);e.useEffect(()=>{l(e=>({...e,...a,category:r}))},[a,r]);const h=e=>{if(!e)return n("enterTime");return/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/.test(e)?"":n("invalidTimeFormat")},p=(e,t)=>{let a=t.replace(/[^0-9:]/g,"");if(2!==a.length||a.includes(":")||(a+=":"),a.length<=5){if(a.includes(":")){const[e,t]=a.split(":");let r=e;if(2===e.length){parseInt(e,10)>23&&(r="23")}let s=t||"";if(t&&2===t.length){parseInt(t,10)>59&&(s="59")}a=`${r}:${s}`}else if(2===a.length){parseInt(a,10)>23&&(a="23")}l(t=>({...t,[e]:a}))}},x=[{value:"관광",label:n("tourism"),color:"bg-blue-50 text-blue-700 border-blue-200"},{value:"식사",label:n("dining"),color:"bg-green-50 text-green-700 border-green-200"},{value:"쇼핑",label:n("shopping"),color:"bg-purple-50 text-purple-700 border-purple-200"},{value:"교통",label:n("transportation"),color:"bg-yellow-50 text-yellow-700 border-yellow-200"},{value:"숙박",label:n("accommodation"),color:"bg-pink-50 text-pink-700 border-pink-200"},{value:"문화시설",label:n("culturalFacility"),color:"bg-indigo-50 text-indigo-700 border-indigo-200"},{value:"기타",label:n("etc"),color:"bg-gray-50 text-gray-700 border-gray-200"}];return x.find(e=>e.value===i.category),k.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={},t=h(i.startTime);t&&(e.startTime=t);const a=h(i.endTime);if(a&&(e.endTime=a),i.googleApiData.trim()||(e.googleApiData=n("enterPlaceActivity")),!t&&!a&&i.startTime&&i.endTime){const t=new Date(`2000-01-01 ${i.startTime}`);new Date(`2000-01-01 ${i.endTime}`)<=t&&(e.endTime=n("endTimeAfterStart"))}return c(e),0===Object.keys(e).length})()){u(!0);try{await t(i),l({startTime:"",endTime:"",googleApiData:"",remarks:"",category:r}),c({})}catch(a){console.error("Schedule add failed:",a)}finally{u(!1)}}},className:`space-y-4 ${o}`,children:[k.jsxs("div",{className:`grid ${s?"grid-cols-2":"grid-cols-1 md:grid-cols-2"} gap-4`,children:[k.jsxs("div",{children:[k.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[k.jsx(st,{className:"w-4 h-4 inline mr-1"}),n("startTime")]}),k.jsx("input",{type:"text",value:i.startTime,onChange:e=>p("startTime",e.target.value),placeholder:"09:00",className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 "+(d.startTime?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-gray-600")}),d.startTime&&k.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:d.startTime})]}),k.jsxs("div",{children:[k.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[k.jsx(st,{className:"w-4 h-4 inline mr-1"}),n("endTime")]}),k.jsx("input",{type:"text",value:i.endTime,onChange:e=>p("endTime",e.target.value),placeholder:"18:00",className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 "+(d.endTime?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-gray-600")}),d.endTime&&k.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:d.endTime})]})]}),k.jsxs("div",{children:[k.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[k.jsx(nt,{className:"w-4 h-4 inline mr-1"}),n("placeActivity")]}),k.jsx("input",{type:"text",value:i.googleApiData,onChange:e=>l(t=>({...t,googleApiData:e.target.value})),placeholder:n("placePlaceholder"),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 "+(d.googleApiData?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-gray-600")}),d.googleApiData&&k.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:d.googleApiData})]}),k.jsxs("div",{children:[k.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[k.jsx(gt,{className:"w-4 h-4 inline mr-1"}),n("category")]}),k.jsx("div",{className:"flex flex-wrap gap-2",children:x.map(e=>k.jsx("button",{type:"button",onClick:()=>l(t=>({...t,category:e.value})),className:`px-3 py-2 text-sm rounded-md border transition-colors ${i.category===e.value?e.color:"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:e.label},e.value))})]}),k.jsxs("div",{children:[k.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[k.jsx(it,{className:"w-4 h-4 inline mr-1"}),n("memo")]}),k.jsx("textarea",{value:i.remarks,onChange:e=>l(t=>({...t,remarks:e.target.value})),placeholder:n("memoPlaceholder"),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"})]}),k.jsx("div",{className:"flex justify-end",children:k.jsxs("button",{type:"submit",disabled:g,className:"btn btn-primary flex items-center gap-2",children:[k.jsx(ct,{className:"w-4 h-4"}),n(g?"loading":"addSchedule")]})})]})},St=({selectedDate:t,initialPlaceName:a,defaultCategory:r})=>{const{t:s,i18n:o}=m(),{getSchedulesForDate:n,addSchedule:i,deleteSchedule:l,updateSchedule:d,reorderSchedules:c,loadSchedulesForDate:g,loading:u,error:h}=kt(),p=n(t)||[],[x,y]=e.useState(!1),[f,b]=e.useState(null),[v,w]=e.useState(null),j=p||[];e.useEffect(()=>{g(t)},[t,g]),e.useEffect(()=>{y(!0);const e=setTimeout(()=>{y(!1)},2e3);return()=>clearTimeout(e)},[t]),e.useEffect(()=>{const e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`;R(a),$(a)},[t]);const[N,S]=e.useState(null),[C,D]=e.useState(!1),T=(e,t)=>{const[a,r]=e.split(":").map(Number),[s,o]=t.split(":").map(Number),n=60*s+o-(60*a+r);if(n<60)return`${n}분`;{const e=Math.floor(n/60),t=n%60;return 0===t?`${e}시간`:`${e}시간 ${t}분`}},M=()=>{w(null)},I=()=>{b(null),w(null)},L=(p||[]).length,P=(p||[]).reduce((e,t)=>{const a=new Date(`2000-01-01 ${t.startTime}`);return e+(new Date(`2000-01-01 ${t.endTime}`).getTime()-a.getTime())},0),[E,R]=e.useState(()=>{const e=new Date(t.getFullYear(),t.getMonth(),t.getDate());return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}),[A,$]=e.useState(()=>{const e=new Date(t.getFullYear(),t.getMonth(),t.getDate());return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}),U=()=>{const e=((e,t)=>{const a=new Date(e+"T00:00:00.000Z"),r=new Date(t+"T00:00:00.000Z"),s=[],o=new Date(a);for(;o<=r;)s.push(new Date(o)),o.setUTCDate(o.getUTCDate()+1);return 0===s.length&&s.push(new Date(a)),s})(E,A),t=[];for(const a of e){const e=new Date(a.getFullYear(),a.getMonth(),a.getDate()),r=e.toISOString().substring(0,10);t.push({date:r,rows:n(e)||[]})}return t},O=(e,t)=>{const a=URL.createObjectURL(e),r=document.createElement("a");r.href=a,r.download=t,document.body.appendChild(r),r.click(),r.remove(),URL.revokeObjectURL(a)};return k.jsxs("div",{className:"p-6",children:[k.jsxs("div",{className:"flex items-center justify-between mb-6",children:[k.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[k.jsx("span",{className:"w-1 h-6 bg-green-500 rounded-full"}),s("scheduleManagement")]}),k.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-300",children:[k.jsxs("div",{className:"flex items-center gap-1",children:[k.jsx(at,{className:"w-4 h-4"}),k.jsxs("span",{children:[L,s("scheduleCount")]})]}),k.jsxs("div",{className:"flex items-center gap-1",children:[k.jsx(rt,{className:"w-4 h-4"}),k.jsx("span",{children:((e,t)=>{const a=Math.floor(e/36e5),r=Math.floor(e%36e5/6e4);return(o.language||"ko").startsWith("en")?a>0?`${a}h ${r}m`:`${r}m`:a>0?`${a}${t("hours")} ${r}${t("minutes")}`:`${r}${t("minutes")}`})(P,s)})]})]})]}),k.jsx("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-md border border-gray-200 dark:border-gray-600",children:k.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[k.jsx("button",{onClick:()=>{const e=U(),t=[];t.push("\ufeff"+["날짜","번호","시작","종료","진행 상황","비고"].join(",")),e.forEach(({date:e,rows:a})=>{(a||[]).forEach((a,r)=>{const s=[e,String(r+1),a.startTime??"",a.endTime??"",(a.googleApiData??"").replace(/[,\n]/g," "),(a.remarks??"").replace(/[,\n]/g," ")];t.push(s.join(","))}),0===(a?a.length:0)&&t.push([e,"0","","","",""].join(","))});const a=new Blob([t.join("\n")],{type:"text/csv;charset=utf-8;"});O(a,`schedules_${E}_to_${A}.csv`)},className:"btn btn-sm border border-gray-300 dark:border-gray-500 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:s("excelDownload")}),k.jsx("button",{onClick:()=>(async e=>{const t=U(),a=20,r=40+24*t.reduce((e,t)=>e+Math.max(1,t.rows?t.rows.length:0)+1,0)+4*t.length,s=document.createElement("canvas");s.width=1200,s.height=Math.max(300,r);const o=s.getContext("2d");if(!o)return;o.fillStyle="#ffffff",o.fillRect(0,0,s.width,s.height),o.fillStyle="#111827",o.font="bold 18px system-ui, -apple-system, Segoe UI, Roboto",o.fillText(`스케줄 내보내기 (${E} ~ ${A})`,a,26);let n=44;o.font="bold 16px system-ui, -apple-system, Segoe UI, Roboto",t.forEach(({date:e,rows:t})=>{n+=10,o.fillStyle="#1f2937",o.fillText(e,a,n),n+=6,o.font="12px system-ui, -apple-system, Segoe UI, Roboto",o.fillStyle="#374151";const r=[a,80,160,240,640];["번호","시작","종료","진행 상황","비고"].forEach((e,t)=>o.fillText(e,r[t],n+14)),n+=24;const s=t&&t.length>0?t:[];0===(t?t.length:0)?(o.fillStyle="#9CA3AF",o.fillText("데이터 없음",r[0],n+14),n+=24):s.forEach((e,t)=>{o.fillStyle="#111827",[String(t+1),e.startTime??"",e.endTime??"",e.googleApiData??"",e.remarks??""].forEach((e,t)=>{const a=String(e).replace(/\n/g," ");o.fillText(a,r[t],n+14)}),n+=24})}),s.toBlob(t=>{t&&O(t,`schedules_${E}_to_${A}.${e}`)},"image/jpeg",.92)})("jpg"),className:"btn btn-sm border border-gray-300 dark:border-gray-500 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:s("jpgDownload")})]})}),k.jsx("div",{className:"mb-6 p-4 rounded-md border transition-all duration-200 "+(x?"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-600 shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"),children:k.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[k.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(J=t,new Intl.DateTimeFormat(o.language||"ko",{year:"numeric",month:"long",day:"numeric"}).format(J))," ",s("scheduleStatus")]})}),u&&k.jsxs("div",{className:"text-center py-8",children:[k.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),k.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-300",children:s("loadingSchedule")})]}),h&&k.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[k.jsx("p",{className:"font-bold",children:s("errorOccurred")}),k.jsx("p",{children:h})]}),k.jsx("div",{className:"space-y-4",children:j.length>0?k.jsxs("div",{className:"relative",children:[k.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-300 dark:bg-gray-600"}),k.jsx("div",{className:"space-y-6",children:j.map((e,a)=>k.jsxs("div",{className:`relative flex items-start gap-6 ${f===a?"opacity-50 scale-95":""} ${v===a?"transform scale-105":""}`,draggable:!0,onDragStart:e=>((e,t)=>{console.log("드래그 시작:",t),b(t),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html","")})(e,a),onDragOver:e=>((e,t)=>{e.preventDefault(),e.dataTransfer.dropEffect="move",w(t)})(e,a),onDragLeave:M,onDrop:e=>(async(e,a)=>{if(e.preventDefault(),console.log("드롭 이벤트:",{draggedIndex:f,dropIndex:a}),null!==f&&f!==a)try{console.log("순서 변경 시작:",{from:f,to:a}),await c(t,f,a),console.log("순서 변경 완료")}catch(r){console.error("순서 변경 실패:",r)}b(null),w(null)})(e,a),onDragEnd:I,title:"드래그하여 순서 변경",children:[k.jsx("div",{className:"relative z-10 flex-shrink-0",children:k.jsx("div",{className:"w-8 h-8 bg-white dark:bg-gray-700 rounded-full flex items-center justify-center shadow-lg border-2 border-gray-200 dark:border-gray-600",children:k.jsx(st,{className:"w-3 h-3 text-gray-700 dark:text-gray-300"})})}),k.jsx("div",{className:"flex-1 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-xl transition-all duration-300 group",children:k.jsxs("div",{className:"p-6",children:[k.jsxs("div",{className:"flex items-center justify-between mb-4",children:[k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400",children:[k.jsx(st,{className:"w-4 h-4"}),k.jsxs("span",{className:"font-semibold text-sm",children:[e.startTime," - ",e.endTime]})]}),k.jsx("div",{className:"w-1 h-1 bg-gray-300 rounded-full"}),k.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:T(e.startTime,e.endTime)})]}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsxs("button",{onClick:()=>(e=>{S(e),D(!0)})(e),className:"flex items-center gap-1 px-2 py-1 text-xs text-gray-500 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-all duration-200",title:"편집",children:[k.jsx(lt,{className:"w-3 h-3"}),k.jsx("span",{children:"편집"})]}),k.jsxs("button",{onClick:()=>(async e=>{try{await l(t,e)}catch(a){console.error("Failed to delete schedule:",a)}})(e.id),className:"flex items-center gap-1 px-2 py-1 text-xs text-gray-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-all duration-200",title:"삭제",children:[k.jsx(mt,{className:"w-3 h-3"}),k.jsx("span",{children:"삭제"})]}),k.jsx(ot,{className:"w-4 h-4 text-gray-400 cursor-move hover:text-gray-600"})]})]}),k.jsxs("div",{className:"space-y-3",children:[k.jsxs("div",{className:"flex items-start gap-3",children:[k.jsx(nt,{className:"w-5 h-5 text-gray-500 mt-0.5 flex-shrink-0"}),k.jsx("div",{className:"flex-1",children:k.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 text-lg leading-tight",children:e.title||e.googleApiData||"제목 없음"})})]}),e.remarks&&k.jsxs("div",{className:"flex items-start gap-3",children:[k.jsx(it,{className:"w-5 h-5 text-gray-500 mt-0.5 flex-shrink-0"}),k.jsx("div",{className:"flex-1",children:k.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm leading-relaxed",children:e.remarks})})]})]})]})})]},e.id))})]}):k.jsxs("div",{className:"text-center py-12 text-gray-500",children:[k.jsx(at,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),k.jsx("p",{className:"text-lg font-medium mb-2",children:s("noSchedule")}),k.jsx("p",{className:"text-sm",children:s("addNewSchedule")})]})}),k.jsx("div",{className:"mt-6",children:k.jsx(Nt,{onSubmit:async e=>{try{const a={startTime:e.startTime,endTime:e.endTime,title:e.title||e.googleApiData||"",googleApiData:e.googleApiData,remarks:e.remarks||"",order:0,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};await i(t,a)}catch(a){console.error("Failed to add schedule:",a)}},defaultValue:{googleApiData:a||""},defaultCategory:r,compact:!1})}),k.jsx(jt,{isOpen:C,onClose:()=>{D(!1),S(null)},schedule:N,onSave:async e=>{try{await d(t,e.id,{startTime:e.startTime,endTime:e.endTime,title:e.title,googleApiData:e.googleApiData,remarks:e.remarks}),S(null),D(!1)}catch(a){console.error("Failed to update schedule:",a)}}})]});var J},Ct=()=>{const{t:t}=m(),[a,s]=e.useState(new Date),[o]=i(),[n,l]=e.useState(""),[d,c]=e.useState("관광");r(),e.useEffect(()=>{const e=o.get("place"),t=o.get("date"),a=o.get("category");if(e&&l(decodeURIComponent(e)),t){const e=new Date(t);isNaN(e.getTime())||s(e)}a&&c(decodeURIComponent(a))},[o]);return k.jsxs(k.Fragment,{children:[k.jsx(ie,{}),k.jsxs("main",{className:"container mx-auto px-4 py-6 pt-16 md:pt-20 dark:bg-gray-900",children:[k.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-100 mb-6",children:t("scheduleManagement")}),k.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[400px_1fr] gap-6",children:[k.jsx("div",{className:"space-y-6",children:k.jsx("div",{className:"card bg-base-100 dark:bg-gray-800 shadow-sm border border-gray-200 dark:border-gray-600 rounded-lg p-4",children:k.jsx(wt,{onDateSelect:e=>{s(e)},selectedDate:a})})}),k.jsx("div",{className:"space-y-6",children:k.jsx("div",{className:"card bg-base-100 dark:bg-gray-800 shadow-sm border border-gray-200 dark:border-gray-600 rounded-lg",children:k.jsx(St,{selectedDate:a,initialPlaceName:n,defaultCategory:d})})})]})]}),k.jsx(le,{}),k.jsx(pt,{})]})},Dt=()=>{const[t,a]=e.useState(!1),[r,s]=e.useState({cacheSize:0,activeRequests:0,requestCount:0});return e.useEffect(()=>{},[]),null},Tt=()=>{const t=r(),{t:a}=m(),[s,o]=e.useState({email:"",password:"",displayName:""}),[n,i]=e.useState(""),[l,d]=e.useState(!1);e.useEffect(()=>{localStorage.getItem("vk_token")&&t("/")},[t]);const c=e=>{o({...s,[e.target.name]:e.target.value})};return k.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[k.jsx(ie,{}),k.jsx("div",{className:"flex min-h-screen items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:k.jsxs("div",{className:"max-w-md w-full space-y-8",children:[k.jsx("div",{children:k.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-gray-100",children:a("signup")})}),k.jsxs("form",{className:"mt-8 space-y-6",onSubmit:async e=>{e.preventDefault(),i(""),d(!0);try{const e=await async function(e){return te(X.AUTH.SIGNUP,{method:"POST",body:e})}(s);localStorage.setItem("vk_token",e.token),t("/")}catch(r){i(r.message||a("signupFailed"))}finally{d(!1)}},children:[n&&k.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 px-4 py-3 rounded",children:n}),k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{children:[k.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:a("email")}),k.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:s.email,onChange:c,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",placeholder:a("email")})]}),k.jsxs("div",{children:[k.jsxs("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[a("nickname")," (",a("optional")||"선택",")"]}),k.jsx("input",{id:"displayName",name:"displayName",type:"text",value:s.displayName,onChange:c,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",placeholder:a("enterNickname")})]}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:a("password")}),k.jsx("input",{id:"password",name:"password",type:"password",required:!0,minLength:6,value:s.password,onChange:c,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",placeholder:a("password")})]})]}),k.jsx("div",{children:k.jsx("button",{type:"submit",disabled:l,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:a(l?"signingUp":"signup")})}),k.jsx("div",{className:"text-center",children:k.jsxs("button",{type:"button",onClick:()=>t("/login"),className:"text-blue-600 hover:text-blue-500",children:[a("haveAccount")," ",a("login")]})})]})]})})]})},Mt=()=>{const t=r(),{t:a}=m(),[s,o]=e.useState({email:"",password:""}),[n,i]=e.useState(""),[l,d]=e.useState(!1);e.useEffect(()=>{localStorage.getItem("vk_token")&&t("/")},[t]);const c=e=>{o({...s,[e.target.name]:e.target.value})};return k.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[k.jsx(ie,{}),k.jsx("div",{className:"flex min-h-screen items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:k.jsxs("div",{className:"max-w-md w-full space-y-8",children:[k.jsx("div",{children:k.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-gray-100",children:a("login")})}),k.jsxs("form",{className:"mt-8 space-y-6",onSubmit:async e=>{e.preventDefault(),i(""),d(!0);try{const e=await async function(e){return te(X.AUTH.LOGIN,{method:"POST",body:e})}(s);localStorage.setItem("vk_token",e.token),t("/")}catch(r){i(r.message||a("loginFailed"))}finally{d(!1)}},children:[n&&k.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 px-4 py-3 rounded",children:n}),k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{children:[k.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:a("email")}),k.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:s.email,onChange:c,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",placeholder:a("email")})]}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:a("password")}),k.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:s.password,onChange:c,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",placeholder:a("password")})]})]}),k.jsx("div",{children:k.jsx("button",{type:"submit",disabled:l,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:a(l?"loggingIn":"login")})}),k.jsx("div",{className:"text-center",children:k.jsxs("button",{type:"button",onClick:()=>t("/signup"),className:"text-blue-600 hover:text-blue-500",children:[a("noAccount")," ",a("signup")]})})]})]})})]})},It=l([{path:"/",element:k.jsx(ge,{})},{path:"/nationwide",element:k.jsx(Fe,{})},{path:"/places/:id",element:k.jsx(yt,{})},{path:"/search",element:k.jsx(Fe,{})},{path:"/signup",element:k.jsx(Tt,{})},{path:"/login",element:k.jsx(Mt,{})},{path:"/mypage",element:k.jsx(vt,{})},{path:"/schedule",element:k.jsx(Ct,{})}]);j.createRoot(document.getElementById("root")).render(k.jsx(a.StrictMode,{children:k.jsxs(Y,{children:[k.jsx(d,{router:It}),k.jsx(Dt,{})]})}));
